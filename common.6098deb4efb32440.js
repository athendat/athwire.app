"use strict";(self.webpackChunkath=self.webpackChunkath||[]).push([[592],{25736:(E,_,n)=>{n.d(_,{AR:()=>s,$w:()=>u,SX:()=>l});const s={_id:null,userId:null,active:!0,owner:null,currency:null,name:null,balance:0,operations:[],createdAt:null,updatedAt:null},u={_id:null,userId:null,date:null,valueDate:null,description:null,origin:null,destiny:null,operationType:null,initBalance:null,amount:null,endBalance:null},l={_id:null,active:!0,name:null,lastname:null,email:null,password:null,roles:[null]}},37681:(E,_,n)=>{n.d(_,{$:()=>l,E:()=>i});var s=n(5e3),u=n(53238);let l=(()=>{class t{constructor(e){this._accountsService=e}resolve(e,v){return this._accountsService.getAccounts()}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(u.i))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),i=(()=>{class t{constructor(e){this._accountsService=e}resolve(e,v){const d=e.params.accountId;if("new"!==d)return this._accountsService.getAccountById(d)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(u.i))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},53238:(E,_,n)=>{n.d(_,{i:()=>P});var s=n(61135),u=n(95698),l=n(63900),i=n(54004),t=n(18505),o=n(47078),e=n(92340),v=n(5e3),d=n(40520),I=n(65620);const p=e.N.API_URL;let P=(()=>{class h{constructor(r,c){this._httpClient=r,this.store=c,this._account=new s.X(null),this._accounts=new s.X([]),this._pagination=new s.X(null)}get account$(){return this._account.asObservable()}get accounts$(){return this._accounts.asObservable()}get pagination$(){return this._pagination.asObservable()}createAccount(r){return this.accounts$.pipe((0,u.q)(1),(0,l.w)(c=>this._httpClient.post(`${p}/accounts`,r).pipe((0,i.U)(a=>(this._accounts.next([a.account,...c]),this.store.dispatch(new o.ln([a.account,...c])),a)))))}getAccounts(){return this._httpClient.get(`${p}/accounts`).pipe((0,t.b)(r=>{this._accounts.next(r.accounts),this.store.dispatch(new o.ln(r.accounts))}))}getAccountById(r){return this._httpClient.get(`${p}/accounts/${r}`).pipe((0,t.b)(c=>{this._account.next(c.account),this.store.dispatch(new o.xH(c.account))}))}updateAccount(r){return this.accounts$.pipe((0,u.q)(1),(0,l.w)(c=>this._httpClient.patch(`${p}/accounts/${r._id}`,r).pipe((0,i.U)(a=>{console.log(a);const A=c.findIndex(O=>O._id===r._id);return c[A]=a.account,this._accounts.next(c),this.store.dispatch(new o.ln(a.accounts)),a}))))}deleteAccount(r){return this.accounts$.pipe((0,u.q)(1),(0,l.w)(c=>this._httpClient.delete(`${p}/accounts/${r}`).pipe((0,i.U)(a=>{const A=c.findIndex(O=>O._id===r);return c.splice(A,1),this._accounts.next(c),this.store.dispatch(new o.ln(c)),a}))))}}return h.\u0275fac=function(r){return new(r||h)(v.LFG(d.eN),v.LFG(I.yh))},h.\u0275prov=v.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},15497:(E,_,n)=>{n.d(_,{o:()=>l,O:()=>i});var s=n(5e3),u=n(37495);let l=(()=>{class t{constructor(e){this._userService=e}resolve(e,v){return this._userService.getUsers()}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(u.K))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),i=(()=>{class t{constructor(e){this._userService=e}resolve(e,v){const d=e.params.userId;if("new"!==d)return this._userService.getUserById(d)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(u.K))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);