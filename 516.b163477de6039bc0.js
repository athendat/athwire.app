(self.webpackChunkath=self.webpackChunkath||[]).push([[516],{5736:(se,A,i)=>{"use strict";i.d(A,{AR:()=>v,pT:()=>g,$w:()=>E,SX:()=>I,YK:()=>y});const v={_id:null,accountNo:null,userId:null,active:!0,owner:null,currency:null,name:null,balance:0,createdAt:null,updatedAt:null},g={_id:null,accountId:null,userId:null,invoiceNo:null,amount:0,status:"Nueva",fincimexId:null,fincimexTax:0,sendFincimex:!1,beneficiaryCard:null,beneficiaryNote:null,remitter:void 0,beneficiary:void 0},E={_id:null,accountId:null,userId:null,reference:null,date:null,valueDate:null,description:null,origin:null,destiny:null,accountOrigin:null,accountDestiny:null,operationType:null,currency:null,initBalance:null,amount:null,endBalance:null},I={_id:null,active:!0,name:null,lastname:null,email:null,password:null,roles:[null]},y={_id:null,invoiceId:"",transactionId:0,reason:"",canceled:!1,fincimexResponse:""}},7681:(se,A,i)=>{"use strict";i.d(A,{$c:()=>I,EW:()=>y,$G:()=>a});var v=i(7078),g=i(5e3),E=i(5620);let I=(()=>{class f{constructor(_){this.store=_}resolve(_,u){return this.store.dispatch((0,v.vP)())}}return f.\u0275fac=function(_){return new(_||f)(g.\u0275\u0275inject(E.yh))},f.\u0275prov=g.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),y=(()=>{class f{constructor(_){this.store=_}resolve(_,u){const p=_.params.accountId;if("new"!==p)return this.store.dispatch((0,v.Mx)({accountId:p}))}}return f.\u0275fac=function(_){return new(_||f)(g.\u0275\u0275inject(E.yh))},f.\u0275prov=g.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),a=(()=>{class f{constructor(_){this.store=_}resolve(_,u){const p=_.params.accountId;if("new"!==p)return this.store.dispatch((0,v.vg)({accountId:p}))}}return f.\u0275fac=function(_){return new(_||f)(g.\u0275\u0275inject(E.yh))},f.\u0275prov=g.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},6596:(se,A,i)=>{"use strict";i.d(A,{bk:()=>E,L3:()=>I,Cj:()=>y});var v=i(5620);const g=a=>a.account,E=(0,v.P1)(g,a=>a.account),I=(0,v.P1)(g,a=>a.accounts),y=(0,v.P1)(g,a=>a.operations)},6516:(se,A,i)=>{"use strict";i.r(A),i.d(A,{InvoicesModule:()=>jt});var v=i(5357),g=i(2455),E=i(7795),I=i(655),y=i(345),a=i(3075),f=i(6087),h=i(4847),_=i(7579),u=i(2722),p=i(8372),s=i(3900),d=i(6451),b=i(5620);const R=n=>n.invoice,N=(0,b.P1)(R,n=>n.invoice),H=(0,b.P1)(R,n=>n.invoices);var L=i(5700),C=i(5736),e=i(5e3),V=i(7967),D=i(1927),P=i(8891),T=i(5303),le=i(5245),$=i(7423),W=i(2181),S=i(9808),J=i(7238);function U(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",51),e.\u0275\u0275elementStart(1,"span",52),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"uppercase"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,t.status))}}function Z(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",53),e.\u0275\u0275elementStart(1,"span",52),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"uppercase"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,t.status))}}function X(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",54),e.\u0275\u0275elementStart(1,"span",52),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"uppercase"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,t.status))}}function w(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",55),e.\u0275\u0275elementStart(1,"span",52),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"uppercase"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,t.status))}}function k(n,o){1&n&&e.\u0275\u0275element(0,"mat-icon",56),2&n&&e.\u0275\u0275property("svgIcon","heroicons_solid:check")}function Y(n,o){1&n&&e.\u0275\u0275element(0,"mat-icon",56),2&n&&e.\u0275\u0275property("svgIcon","heroicons_solid:check")}function O(n,o){1&n&&e.\u0275\u0275element(0,"mat-icon",56),2&n&&e.\u0275\u0275property("svgIcon","heroicons_solid:check")}function K(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",35),e.\u0275\u0275elementStart(2,"div",36),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",30),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",37),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",37),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",30),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",30),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",30),e.\u0275\u0275text(17),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(18,U,4,3,"div",38),e.\u0275\u0275template(19,Z,4,3,"div",39),e.\u0275\u0275template(20,X,4,3,"div",40),e.\u0275\u0275template(21,w,4,3,"div",41),e.\u0275\u0275elementStart(22,"div",30),e.\u0275\u0275text(23),e.\u0275\u0275pipe(24,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",42),e.\u0275\u0275elementStart(26,"div"),e.\u0275\u0275elementStart(27,"button",43),e.\u0275\u0275element(28,"mat-icon",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"mat-menu",null,44),e.\u0275\u0275elementStart(31,"button",45),e.\u0275\u0275listener("click",function(){const m=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext(2).updateInvoice(m,"Pendiente")}),e.\u0275\u0275elementStart(32,"div",46),e.\u0275\u0275template(33,k,1,1,"mat-icon",47),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"span",48),e.\u0275\u0275text(35,"PENDIENTE"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"button",45),e.\u0275\u0275listener("click",function(){const m=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext(2).updateInvoice(m,"Procesada")}),e.\u0275\u0275elementStart(37,"div",46),e.\u0275\u0275template(38,Y,1,1,"mat-icon",47),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"span",48),e.\u0275\u0275text(40,"PROCESADA"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"button",45),e.\u0275\u0275listener("click",function(){const m=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext(2).updateInvoice(m,"Cancelada")}),e.\u0275\u0275elementStart(42,"div",46),e.\u0275\u0275template(43,O,1,1,"mat-icon",47),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"span",48),e.\u0275\u0275text(45,"CANCELADA"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"button",49),e.\u0275\u0275listener("click",function(){const m=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext(2).editInvoice(m)}),e.\u0275\u0275element(47,"mat-icon",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"button",50),e.\u0275\u0275listener("click",function(){const m=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext(2).deleteInvoice(m)}),e.\u0275\u0275element(49,"mat-icon",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=o.$implicit,r=e.\u0275\u0275reference(30);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.invoiceNo," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.accountId.name," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate3(" ",t.remitter.name," ",t.remitter.lastName1," ",t.remitter.lastName2," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate3(" ",t.beneficiary.name," ",t.beneficiary.lastName1," ",t.beneficiary.lastName2," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(12,24,t.amount,"1.2-2")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(15,27,t.fincimexTax,"1.2-2")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.fincimexId," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.status.includes("Procesada")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.status.includes("Nueva")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.status.includes("Pendiente")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.status.includes("Cancelada")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(24,30,t.createdAt,"dd/MM/yy")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("matMenuTriggerFor",r),e.\u0275\u0275advance(1),e.\u0275\u0275property("svgIcon","heroicons_solid:clipboard-copy"),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",t.status.includes("Pendiente")),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",t.status.includes("Procesada")),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",t.status.includes("Cancelada")),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",t.status.includes("Procesada")),e.\u0275\u0275advance(1),e.\u0275\u0275property("svgIcon","heroicons_solid:pencil"),e.\u0275\u0275advance(2),e.\u0275\u0275property("svgIcon","heroicons_solid:trash")}}const Q=function(n){return{"pointer-events-none":n}},oe=function(){return[20,40,80,100]};function ie(n,o){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",28),e.\u0275\u0275elementStart(2,"div",29),e.\u0275\u0275elementStart(3,"div",30),e.\u0275\u0275text(4," No.Factura "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",31),e.\u0275\u0275text(6," Grupo "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",30),e.\u0275\u0275text(8," Remesante "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",30),e.\u0275\u0275text(10," Beneficiario "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",31),e.\u0275\u0275text(12," Importe "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",31),e.\u0275\u0275text(14," TAX Fincimex "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"div",31),e.\u0275\u0275text(16," Fincimex ID "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",31),e.\u0275\u0275text(18," Estado "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",31),e.\u0275\u0275text(20," Fecha "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div",32),e.\u0275\u0275text(22," Acciones "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(23,K,50,33,"ng-container",33),e.\u0275\u0275element(24,"mat-paginator",34),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(23),e.\u0275\u0275property("ngForOf",t.invoices)("ngForTrackBy",t.trackByFn),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(8,Q,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.\u0275\u0275pureFunction0(10,oe))("showFirstLastButtons",!0)}}function te(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div",57),e.\u0275\u0275text(1,"A\xfan no ha creado ninguna factura!"),e.\u0275\u0275elementEnd())}let ce=(()=>{class n{constructor(t,r,l,m,c,F){this._athConfirmationService=t,this._changeDetectorRef=r,this._fileSaverService=l,this._invoicesService=m,this._router=c,this.store=F,this.invoices=[],this.emptyInvoice=C.pT,this.searchInputControl=new a.FormControl,this.selectedInvoice=null,this._unsubscribeAll=new _.x}ngOnInit(){this.invoices$=this.store.select(H),console.log(this.invoice$),this.invoices$.pipe((0,u.R)(this._unsubscribeAll)).subscribe(t=>{this.invoices=t,console.log(this.invoices),this._changeDetectorRef.markForCheck()}),this._invoicesService.pagination$.pipe((0,u.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,u.R)(this._unsubscribeAll),(0,p.b)(900),(0,s.w)(t=>this._invoicesService.getInvoices(0,20,"name","asc",t))).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,u.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,d.T)(this._sort.sortChange,this._paginator.page).pipe((0,s.w)(()=>this._invoicesService.getInvoices(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction))).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createInvoice(){this._router.navigateByUrl("/invoices/new")}editInvoice(t){this._router.navigateByUrl(`/invoices/${t._id}`)}deleteInvoice(t){this._athConfirmationService.open({title:"Eliminar factura",message:"\xbfEst\xe1 seguro que que desea eliminar esta factura?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,u.R)(this._unsubscribeAll)).subscribe(l=>{"confirmed"===l&&this.store.dispatch((0,y.Q_)({id:t._id}))})}updateInvoice(t,r){const l=this._athConfirmationService.open({title:"Cambiar estado de la remesa",message:`\xbfEst\xe1 seguro desea cambiar el estado de la remesa a ${r}?`,icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}),{accountId:m}=t,F=(0,I._T)(t,["accountId"]);F.accountId=m._id,F.status=r,l.afterClosed().pipe((0,u.R)(this._unsubscribeAll)).subscribe(re=>{"confirmed"===re&&this.store.dispatch((0,y.Uk)({invoiceId:t._id,status:r}))})}exportAsExcelFile(){this._fileSaverService.exportAsExcelFile(this.invoices,"invoices")}exportAsCsvFile(){this._fileSaverService.exportAsCsvFile(this.invoices,"invoices")}toggleDetails(t){if(this.selectedInvoice&&this.selectedInvoice._id===t)return this.closeDetails(),void this.store.dispatch((0,y.sV)());this.store.dispatch((0,y.XD)({invoiceId:t}))}closeDetails(){this.selectedInvoice=null}trackByFn(t,r){return r.id||t}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(V.C),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(D.m),e.\u0275\u0275directiveInject(P.x),e.\u0275\u0275directiveInject(v.F0),e.\u0275\u0275directiveInject(b.yh))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ath-invoices"]],viewQuery:function(t,r){if(1&t&&(e.\u0275\u0275viewQuery(f.NW,5),e.\u0275\u0275viewQuery(h.YE,5)),2&t){let l;e.\u0275\u0275queryRefresh(l=e.\u0275\u0275loadQuery())&&(r._paginator=l.first),e.\u0275\u0275queryRefresh(l=e.\u0275\u0275loadQuery())&&(r._sort=l.first)}},decls:42,vars:9,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-wrap","p-6","sm:flex-row","flex-0","sm:items-center","sm:justify-between","pb-22","sm:pt-12","sm:pb-28","sm:px-10","bg-mine-50","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"ml-1","text-primary-700","hover:underline",3,"routerLink"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-700"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","truncate","md:text-4xl","sm:leading-10"],[1,"flex","items-center","flex-shrink-0","mt-6","sm:mt-0","sm:ml-4"],["mat-button","",1,"ml-4","rounded-sm","bg-primary-700",3,"click"],[1,"text-mine-900",3,"svgIcon"],[1,"ml-2","mr-1","text-lg","text-mine-900"],[1,"flex-auto","p-6","-mt-16","bg-mine-200","shadow","sm:p-10","rounded-t-2xl","overflow-x-auto"],[1,"w-full","p-8","md:p-16","shadow","rounded-2xl","bg-card","print:w-auto","print:rounded-none","print:shadow-none","print:bg-transparent"],[1,"flex","items-center","justify-between","mb-5"],[1,"text-2xl","font-semibold","leading-tight"],[1,"-mr-3"],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"icon-size-5",3,"svgIcon"],["listInvoicesMenu","matMenu"],["mat-menu-item","",3,"click"],[4,"ngIf","ngIfElse"],["noInvoices",""],[1,"grid","overflow-x-auto"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","invoices-grid","gap-4","px-6","py-4","font-semibold","shadow","md:px-8","text-md","text-secondary","bg-mine-50","dark:bg-black","dark:bg-opacity-5"],[1,"hidden","truncate","sm:block"],[1,"hidden","sm:block"],[1,"text-center"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"grid","invoices-grid","items-center","gap-4","px-6","py-3","border-b","md:px-8"],[1,"truncate"],[1,"hidden","line-clamp-3","sm:block"],["class","hidden truncate sm:block text-green-800 rounded-2xl bg-green-50 dark:bg-white dark:bg-opacity-5 dark:text-green-500",4,"ngIf"],["class","hidden truncate sm:block bg-gray-100  rounded-2xl text-secondary dark:bg-white dark:bg-opacity-5",4,"ngIf"],["class","hidden truncate sm:block bg-gray-100 sm:col-span-1 rounded-2xl text-secondary dark:bg-white dark:bg-opacity-5",4,"ngIf"],["class","hidden truncate sm:block bg-red-100 sm:col-span-1 rounded-2xl text-secondary dark:bg-white dark:bg-opacity-5",4,"ngIf"],[1,"flex","flex-col","justify-center","gap-1","sm:flex-row","flex-wrap"],["mat-stroked-button","","matTooltip","Cambiar estado",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"matMenuTriggerFor"],["listStatusMenu","matMenu"],["mat-menu-item","",1,"grid","grid-cols-4",3,"click"],[1,"col-span-1"],["class","icon-size-5","style","color:#2f9937;",3,"svgIcon",4,"ngIf"],[1,"col-span-3"],["mat-stroked-button","","matTooltip","Editar",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"disabled","click"],["mat-stroked-button","","matTooltip","Eliminar",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"hidden","truncate","sm:block","text-green-800","rounded-2xl","bg-green-50","dark:bg-white","dark:bg-opacity-5","dark:text-green-500"],[1,"ml-2"],[1,"hidden","truncate","sm:block","bg-gray-100","rounded-2xl","text-secondary","dark:bg-white","dark:bg-opacity-5"],[1,"hidden","truncate","sm:block","bg-gray-100","sm:col-span-1","rounded-2xl","text-secondary","dark:bg-white","dark:bg-opacity-5"],[1,"hidden","truncate","sm:block","bg-red-100","sm:col-span-1","rounded-2xl","text-secondary","dark:bg-white","dark:bg-opacity-5"],[1,"icon-size-5",2,"color","#2f9937",3,"svgIcon"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div"),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"a",5),e.\u0275\u0275text(7,"Inicio"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",4),e.\u0275\u0275element(9,"mat-icon",6),e.\u0275\u0275elementStart(10,"a",7),e.\u0275\u0275text(11,"Remesas"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",8),e.\u0275\u0275elementStart(13,"a",9),e.\u0275\u0275element(14,"mat-icon",6),e.\u0275\u0275elementStart(15,"span",10),e.\u0275\u0275text(16,"Regresar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",11),e.\u0275\u0275elementStart(18,"h2",12),e.\u0275\u0275text(19," Registro de Remesas "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"div",13),e.\u0275\u0275elementStart(21,"button",14),e.\u0275\u0275listener("click",function(){return r.createInvoice()}),e.\u0275\u0275element(22,"mat-icon",15),e.\u0275\u0275elementStart(23,"span",16),e.\u0275\u0275text(24,"Nueva"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",17),e.\u0275\u0275elementStart(26,"div",18),e.\u0275\u0275elementStart(27,"div",19),e.\u0275\u0275elementStart(28,"div",20),e.\u0275\u0275text(29,"Registro de facturas"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"div",21),e.\u0275\u0275elementStart(31,"button",22),e.\u0275\u0275element(32,"mat-icon",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"mat-menu",null,24),e.\u0275\u0275elementStart(35,"button",25),e.\u0275\u0275listener("click",function(){return r.exportAsExcelFile()}),e.\u0275\u0275text(36,"Exportar a excel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"button",25),e.\u0275\u0275listener("click",function(){return r.exportAsCsvFile()}),e.\u0275\u0275text(38,"Exportar a csv"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(39,ie,25,11,"ng-container",26),e.\u0275\u0275template(40,te,2,0,"ng-template",null,27,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t){const l=e.\u0275\u0275reference(34),m=e.\u0275\u0275reference(41);e.\u0275\u0275advance(6),e.\u0275\u0275property("routerLink","/home"),e.\u0275\u0275advance(3),e.\u0275\u0275property("svgIcon","heroicons_solid:chevron-right"),e.\u0275\u0275advance(4),e.\u0275\u0275property("routerLink","./.."),e.\u0275\u0275advance(1),e.\u0275\u0275property("svgIcon","heroicons_solid:chevron-left"),e.\u0275\u0275advance(8),e.\u0275\u0275property("svgIcon","heroicons_outline:plus"),e.\u0275\u0275advance(9),e.\u0275\u0275property("matMenuTriggerFor",l),e.\u0275\u0275advance(1),e.\u0275\u0275property("svgIcon","heroicons_solid:dots-vertical"),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",r.invoices.length>0)("ngIfElse",m)}},directives:[T.PQ,v.yS,le.Hw,$.lW,W.p6,W.VK,W.OP,S.O5,h.YE,S.sg,J.gM,f.NW,S.mk],pipes:[S.JJ,S.gd,S.uU],encapsulation:2,data:{animation:L.p},changeDetection:0}),n})();var ae=i(8675),ee=i(9646),z=i(9652),ne=i(4787),B=i(6596),x=(()=>{return(n=x||(x={})).TARJETABANDEC="TARJETABANDEC",n.TARJETAMETRPOLITANO="TARJETAMETROPOLITANO",n.TARJETABPA="TARJETABPA",n.CUENATBANDEC="CUENATBANDEC",n.CUENATMETRPOLITANO="CUENATMETROPOLITANO",n.CUENATABPA="CUENATBPA",n.AIS="AIS",n.AISNOCASH="AISNOCASH",x;var n})();const j=n=>Array(n).fill(/\d/),M=n=>{const o=[];for(const r of he){let l=0;r.patterns.forEach(m=>{n.split(" ").join("").includes(m)&&l++}),o.push({card:r,count:l})}o.sort((r,l)=>l.count-r.count);const t=o[0];return 0===t.count?null:t.card},q=/(\d{1,4})/g,me=[...j(4)," ",...j(4)," ",...j(4)," ",...j(4)],he=Object.freeze([{type:x.CUENATBANDEC,patterns:["06"],format:q,mask:me,length:[16],cvvLength:[3],image:"assets/images/cards/bancoBandec.png",luhn:!0},{type:x.TARJETABANDEC,patterns:["92"],format:q,mask:me,length:[16],cvvLength:[3],image:"assets/images/cards/bancoBandec.png",luhn:!0},{type:x.CUENATMETRPOLITANO,patterns:["05"],format:q,mask:me,length:[16],cvvLength:[3],image:"assets/images/cards/bancoBanmet.png",luhn:!0},{type:x.TARJETAMETRPOLITANO,patterns:["92","9598","987"],format:q,mask:me,length:[16],cvvLength:[3],image:"assets/images/cards/bancoBanmet.png",luhn:!0},{type:x.CUENATABPA,patterns:["12"],format:q,mask:me,length:[16],cvvLength:[3],image:"assets/images/cards/bancoBpa.png",luhn:!0},{type:x.TARJETABPA,patterns:["92","997"],format:q,mask:me,length:[16],cvvLength:[3],image:"assets/images/cards/bancoBpa.png",luhn:!0},{type:x.AIS,patterns:["95"],format:q,mask:me,length:[16],cvvLength:[3],image:"assets/images/cards/bancoais.png",luhn:!0},{type:x.AISNOCASH,patterns:["9550","02124"],format:q,mask:me,length:[16],cvvLength:[3],image:"assets/images/cards/bancoais.png",luhn:!0}]);class de{static isEmptyInputValue(o){return null==o||0===o.length}static mustMatch(o,t){return r=>{const l=r.get(o),m=r.get(t);if(!l||!m||(m.hasError("mustMatch")&&(delete m.errors.mustMatch,m.updateValueAndValidity()),this.isEmptyInputValue(m.value)||l.value===m.value))return null;const c={mustMatch:"Las contrase\xf1a no coinciden"};return m.setErrors(c),c}}static strongPassWord(o,t,r,l,m){return c=>{const F=c.value;if(!F)return null;const re=!o||/[A-Z]+/.test(F),pe=!t||/[a-z]+/.test(F),Lt=!r||/[0-9]+/.test(F),$t=!l||!/^[a-zA-Z0-9]+$/.test(F);return re&&pe&&Lt&&$t&&F.length>=m?null:{password:"La contrase\xf1a no cumple con los est\xe1ndares de seguridad requeridos"}}}static strongPasWordPattern(){return a.Validators.pattern(/((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/)}static emailPattern(){return a.Validators.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")}static onlyNumbersPattern(){return a.Validators.pattern("^[0-9]*$")}static onlyAlphabetsPattern(){return a.Validators.pattern("^[a-zA-Z ]*$")}static validateIdNumber(){return o=>{if(!o)return null;let t=o.value;if(!t)return null;void 0!==o.value.idNumber&&(t=o.value.idNumber);const r=parseInt(t.substring(0,2),10),l=parseInt(t.substring(2,4),10)-1,m=parseInt(t.substring(4,6),10),c=new Date(r,l,m);return c.getFullYear().toString().substring(2,4)===r.toString()&&c.getMonth()===l&&c.getDate()===m?null:{validateIdNumber:"El n\xfamero de identidad introducido es incorrecto"}}}static requiredAddress(){return o=>{const t=o.value;if(!t)return null;const r=t.split(",");if(r.length>3){let l=!1;for(let m=0;m<r.length-3;m++){const c=r[m];if(c&&""!==c.trim()&&","!==c.trim()&&c.trim().length>4){l=!0;break}}return l?null:{requiredAddress:"La direcci\xf3n  es obligatoria."}}return null}}}var Ee=i(1158),fe=i(1125),ue=i(7322),be=i(7531),xe=i(4107),Ce=i(508),Ie=i(2368),ve=i(1079);let Se=(()=>{class n{transform(t){if(t){const r=t.split(";"),l=r[0];switch(r[1]){case x.CUENATBANDEC:return`Cuenta ( ${l} )`;case x.TARJETABANDEC:return`Tarjeta( ${l} )`;case x.CUENATMETRPOLITANO:return`Cuenta ( ${l} )`;case x.TARJETAMETRPOLITANO:return`Tarjeta ( ${l} )`;case x.CUENATABPA:return`Cuenta ( ${l} )`;case x.TARJETABPA:case x.AIS:return`Tarjeta ( ${l} )`;case x.AISNOCASH:return`Tarjeta(NO CASH) ( ${l} )`}}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.\u0275\u0275definePipe({name:"CardType",type:n,pure:!0}),n})();function Fe(n,o){1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"a",64),e.\u0275\u0275text(2,"Nueva"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd())}function Ae(n,o){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"a",64),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.selectedInvoice.invoiceNo)}}function Te(n,o){1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1," Nueva factura "),e.\u0275\u0275elementContainerEnd())}function ke(n,o){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275text(1),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.selectedInvoice.invoiceNo," ")}}const ge=function(n){return{"cursor-not-allowed":n}};function Ne(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",65),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().createInvoice()}),e.\u0275\u0275element(1,"mat-icon",66),e.\u0275\u0275elementStart(2,"span",67),e.\u0275\u0275text(3,"Guardar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(3,ge,t.invoiceForm.invalid||t.remitterForm.invalid||t.beneficiaryForm.invalid))("disabled",t.invoiceForm.invalid||t.remitterForm.invalid||t.beneficiaryForm.invalid),e.\u0275\u0275advance(1),e.\u0275\u0275property("svgIcon","heroicons_outline:save")}}function De(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",68),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().updateInvoice()}),e.\u0275\u0275element(1,"mat-icon",66),e.\u0275\u0275elementStart(2,"span",67),e.\u0275\u0275text(3,"Actualizar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(3,ge,t.invoiceForm.invalid||t.remitterForm.invalid||t.beneficiaryForm.invalid))("disabled",t.invoiceForm.invalid||t.remitterForm.invalid||t.beneficiaryForm.invalid),e.\u0275\u0275advance(1),e.\u0275\u0275property("svgIcon","heroicons_outline:refresh")}}function we(n,o){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"mat-option",69),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&n){const t=o.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("value",t._id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.name)}}function Me(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," El monto es obligatorio. "),e.\u0275\u0275elementEnd())}function Re(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," El monto m\xednimo debe ser mayor a 0. "),e.\u0275\u0275elementEnd())}function Ve(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," El monto m\xe1ximo es de 10.000. "),e.\u0275\u0275elementEnd())}function Pe(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.invoiceForm.get("amount").getError("maxAmount").value," ")}}function Oe(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," El monto es obligatorio. "),e.\u0275\u0275elementEnd())}function Be(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"mat-option",69),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=o.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate4(" ",t.name," ",t.lastName1," ",t.lastName2," | ",t.idNumber," ")}}function je(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," El n\xfamero de identificaci\xf3n es obligatorio. "),e.\u0275\u0275elementEnd())}function Le(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," El nombre es obligatorio. "),e.\u0275\u0275elementEnd())}function $e(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," El primer apellido es obligatorio. "),e.\u0275\u0275elementEnd())}function Ue(n,o){if(1&n&&e.\u0275\u0275element(0,"img",70),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("src",t.selectedCountry.flag,e.\u0275\u0275sanitizeUrl)}}function Xe(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"mat-option",69),e.\u0275\u0275elementStart(1,"div",21),e.\u0275\u0275elementStart(2,"div",71),e.\u0275\u0275element(3,"img",72),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div"),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n){const t=o.$implicit;e.\u0275\u0275property("value",t.name),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("src",t.flag,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.name," ")}}function ze(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," El pa\xeds es obligatorio. "),e.\u0275\u0275elementEnd())}function qe(n,o){1&n&&e.\u0275\u0275element(0,"mat-select",29),2&n&&e.\u0275\u0275property("formControlName","state")}function He(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"mat-option",69),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=o.$implicit;e.\u0275\u0275property("value",t.name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.name," ")}}function We(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"mat-select",29),e.\u0275\u0275template(1,He,2,2,"mat-option",39),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("formControlName","state"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.remitterStates.states)}}function Ge(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," El estado es obligatorio. "),e.\u0275\u0275elementEnd())}function Je(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"mat-option",69),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=o.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",t," ")}}function Ze(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," La ciudad es obligatoria. "),e.\u0275\u0275elementEnd())}function Qe(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," El c\xf3digo postal debe contener solo n\xfameros. "),e.\u0275\u0275elementEnd())}function Ye(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," El c\xf3digo postal debe contener entre 5 y 8 caracteres. "),e.\u0275\u0275elementEnd())}function Ke(n,o){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"mat-option",69),e.\u0275\u0275elementStart(2,"span",73),e.\u0275\u0275element(3,"span",74),e.\u0275\u0275elementStart(4,"div",71),e.\u0275\u0275element(5,"img",72),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"span",75),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&n){const t=o.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("value",t.dialCode),e.\u0275\u0275advance(1),e.\u0275\u0275property("matTooltip",t.name),e.\u0275\u0275advance(3),e.\u0275\u0275property("src",t.flag,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.dialCode)}}function et(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," El c\xf3digo de marcaci\xf3n es obligatorio. "),e.\u0275\u0275elementEnd())}function tt(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," El n\xfamero de tel\xe9fono es obligatorio. "),e.\u0275\u0275elementEnd())}function nt(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," El n\xfamero de tel\xe9fono debe contener solo n\xfameros. "),e.\u0275\u0275elementEnd())}function rt(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," La longitud del n\xfamero de tel\xe9fono debe ser mayor de ocho d\xedgitos. "),e.\u0275\u0275elementEnd())}function ot(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," La direcci\xf3n del remesante es obligatoria. "),e.\u0275\u0275elementEnd())}function it(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," El n\xfamero de identificaci\xf3n es obligatorio. "),e.\u0275\u0275elementEnd())}function at(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," El n\xfamero de identificaci\xf3n debe poseer 11 d\xedgitos "),e.\u0275\u0275elementEnd())}function lt(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," El n\xfamero de identidad no posee un formato v\xe1lido. "),e.\u0275\u0275elementEnd())}function mt(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," El n\xfamero de identidad debe poseer solo n\xfameros. "),e.\u0275\u0275elementEnd())}function st(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"mat-option",69),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=o.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate4(" ",t.name," ",t.lastName1," ",t.lastName2," | ",t.idNumber," ")}}function ct(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," El nombre es obligatorio. "),e.\u0275\u0275elementEnd())}function dt(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," El primer apellido es obligatorio. "),e.\u0275\u0275elementEnd())}function ut(n,o){if(1&n&&e.\u0275\u0275element(0,"img",83),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("src",t.getCardValidation(t.invoiceForm.get("beneficiaryCard").value).image,e.\u0275\u0275sanitizeUrl)}}function pt(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," La cuenta del beneficiario no posee un formato v\xe1lido "),e.\u0275\u0275elementEnd())}function ft(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," La cuenta del beneficiario es obligatoria "),e.\u0275\u0275elementEnd())}const vt=function(n,o){return{"border-green-500":n,"border-red-500":o}},gt=function(n){return{mask:n,guide:!1,showMask:!0}};function ht(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",76),e.\u0275\u0275elementStart(1,"div",77),e.\u0275\u0275elementStart(2,"mat-form-field",26),e.\u0275\u0275elementStart(3,"mat-label"),e.\u0275\u0275text(4,"N\xfamero de cuenta o de tarjeta"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"input",78),e.\u0275\u0275listener("change",function(l){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().newCard=l.target.value}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",79),e.\u0275\u0275template(7,ut,1,1,"img",80),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,pt,2,0,"mat-error",7),e.\u0275\u0275template(9,ft,2,0,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"button",81),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext();return l.newCard=null,l.invoiceForm.get("beneficiaryCard").setValue(null)}),e.\u0275\u0275element(11,"mat-icon",82),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275property("type","text")("formControlName","beneficiaryCard")("ngClass",e.\u0275\u0275pureFunction2(8,vt,t.invoiceForm.get("beneficiaryCard").valid,t.invoiceForm.get("beneficiaryCard").invalid&&t.invoiceForm.get("beneficiaryCard").touched))("textMask",e.\u0275\u0275pureFunction1(11,gt,t.cardMaskFunction)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.getCardValidation(t.invoiceForm.get("beneficiaryCard").value)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.invoiceForm.get("beneficiaryCard").hasError("luhnCheck")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.invoiceForm.get("beneficiaryCard").hasError("required")),e.\u0275\u0275advance(2),e.\u0275\u0275property("svgIcon","heroicons_outline:trash")}}function _t(n,o){if(1&n&&e.\u0275\u0275element(0,"img",83),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("src",t.getCardValidation(t.invoiceForm.get("beneficiaryCard").value).image,e.\u0275\u0275sanitizeUrl)}}function yt(n,o){if(1&n&&e.\u0275\u0275element(0,"img",72),2&n){const t=e.\u0275\u0275nextContext().$implicit,r=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("src",r.getCardValidation(t).image,e.\u0275\u0275sanitizeUrl)}}function Et(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"mat-option",69),e.\u0275\u0275elementStart(1,"div",21),e.\u0275\u0275elementStart(2,"div",87),e.\u0275\u0275template(3,yt,1,1,"img",88),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"CardType"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n){const t=o.$implicit,r=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("value",t),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",r.getCardValidation(t)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,3,t+";"+r.getCardValidation(t).type.toString())," ")}}function bt(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," La cuenta del beneficiario no posee un formato v\xe1lido "),e.\u0275\u0275elementEnd())}function xt(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," La cuenta del beneficiario es obligatoria "),e.\u0275\u0275elementEnd())}function Ct(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",76),e.\u0275\u0275elementStart(1,"mat-form-field",26),e.\u0275\u0275elementStart(2,"mat-label"),e.\u0275\u0275text(3,"Cuentas o tarjetas"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",44),e.\u0275\u0275template(5,_t,1,1,"img",80),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"mat-select",29),e.\u0275\u0275template(7,Et,7,5,"mat-option",39),e.\u0275\u0275elementStart(8,"mat-option",69),e.\u0275\u0275elementStart(9,"button",84),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext();return l.newCard="",l.invoiceForm.get("beneficiaryCard").setValue(null)}),e.\u0275\u0275elementStart(10,"div",85),e.\u0275\u0275element(11,"mat-icon",82),e.\u0275\u0275elementStart(12,"span",86),e.\u0275\u0275text(13,"Agregar nueva cuenta o tarjeta"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(14,bt,2,0,"mat-error",7),e.\u0275\u0275template(15,xt,2,0,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",t.getCardValidation(t.invoiceForm.get("beneficiaryCard").value)),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","beneficiaryCard"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.cards),e.\u0275\u0275advance(1),e.\u0275\u0275property("value",null),e.\u0275\u0275advance(3),e.\u0275\u0275property("svgIcon","heroicons_outline:plus"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.invoiceForm.get("beneficiaryCard").hasError("luhnCheck")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.invoiceForm.get("beneficiaryCard").hasError("required"))}}function It(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"mat-option",69),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=o.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t," ")}}function St(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," La provincia es obligatoria. "),e.\u0275\u0275elementEnd())}function Ft(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"mat-option",69),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=o.$implicit;e.\u0275\u0275property("value",t.city),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",t.city," ")}}function At(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," El municipioes obligatoria. "),e.\u0275\u0275elementEnd())}function Tt(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," El reparto o consejo popular es obligatorio "),e.\u0275\u0275elementEnd())}function kt(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," El n\xfamero de tel\xe9fono es obligatorio. "),e.\u0275\u0275elementEnd())}function Nt(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," El n\xfamero de tel\xe9fono debe contener solo n\xfameros. "),e.\u0275\u0275elementEnd())}function Dt(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," La longitud del n\xfamero de tel\xe9fono debe ser mayor de ocho d\xedgitos. "),e.\u0275\u0275elementEnd())}function wt(n,o){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," La direcci\xf3n del beneficiario es obligatoria. "),e.\u0275\u0275elementEnd())}(0,z.kP)("1234567890GHIJKL",8);let Mt=(()=>{class n{constructor(t,r,l,m,c,F,re,pe){this._activatedRoute=t,this._athConfirmationService=r,this._changeDetectorRef=l,this._formBuilder=m,this._locationService=c,this._router=F,this.store=re,this.invoiceService=pe,this.editMode=!1,this.formSubmitted=!1,this.invoice$=(0,ee.of)(null),this.invoiceId=null,this.isValid=!1,this.selectedInvoice=C.pT,this.selectedState=null,this.showAlert=!1,this.cities=[],this.states=[],this.countries=[],this.remitterStates=null,this.remitterCities=[],this.selectedCountry=null,this.selectedCountryStates=null,this.user$=(0,ee.of)(null),this.newCard=null,this.selectedCardValidation=null,this.cards=[],this._unsubscribeAll=new _.x}ngOnInit(){var t,r,l,m;this.user$=this.store.select(ne.dy),this.user$.pipe((0,u.R)(this._unsubscribeAll)).subscribe(c=>{this.user=c,this._changeDetectorRef.markForCheck()}),this.accounts$=this.store.select(B.L3),this._locationService.states$.pipe((0,u.R)(this._unsubscribeAll)).subscribe(c=>{this.states=c,this._changeDetectorRef.markForCheck()}),this._locationService.getAllCountries().pipe((0,u.R)(this._unsubscribeAll)).subscribe(c=>{this.countries=c,this.editMode&&this.selectedInvoice.remitter.country&&(this.selectedCountry=this.getCountryFlagByName(this.selectedInvoice.remitter.country)),this._changeDetectorRef.markForCheck()}),this.invoiceForm=this._formBuilder.group({_id:[null],userId:[this.user._id,[a.Validators.required]],invoiceNo:[{disabled:!0,value:0},[a.Validators.required]],accountId:[{disabled:!0,value:this.user.account},[a.Validators.required]],amount:[0,[a.Validators.required,a.Validators.min(0),a.Validators.max(1e4)]],fincimexTax:[{disabled:!0,value:0},[a.Validators.required,a.Validators.min(0)]],sendFincimex:[!0,[a.Validators.required]],fincimexId:[null,[a.Validators.required]],status:["Pendiente",[a.Validators.required]],beneficiaryCard:[null,[a.Validators.required,n=>n.value?(n=>{if(!n||!n.length)return!1;n=n.replace(/\s/g,"");const o=Number(n[n.length-1]),t=n.slice(0,n.length-1).split("").reverse().map(l=>Number(l));let r=0;for(let l=0;l<=t.length-1;l+=2)t[l]=2*t[l],t[l]>9&&(t[l]=t[l]-9);return r=t.reduce((l,m)=>l+m,0),(r+o)%10==0})(n.value)?null:{luhnCheck:"Formato no v\xe1lido"}:null]],beneficiaryNote:[null],transactionId:[null]}),this.remitterForm=this._formBuilder.group({name:[null,[a.Validators.required]],lastName1:[null,[a.Validators.required]],lastName2:[null],address:[null,[a.Validators.required,de.requiredAddress()]],idNumber:[null,[a.Validators.required]],country:[null,[a.Validators.required]],state:[{value:null,disabled:!0},[a.Validators.required]],city:[{value:null,disabled:!0},[a.Validators.required]],postalCode:[null,[a.Validators.minLength(5),a.Validators.maxLength(8),de.onlyNumbersPattern()]],phone:[null,[a.Validators.required,a.Validators.minLength(8),de.onlyNumbersPattern()]],diaCode:[null,[a.Validators.required]],totalAmount:[null]}),this.beneficiaryForm=this._formBuilder.group({idNumber:[null,[a.Validators.required,a.Validators.maxLength(11),a.Validators.minLength(11),de.validateIdNumber(),de.onlyNumbersPattern()]],cards:[[null],[a.Validators.required]],name:[null,[a.Validators.required]],lastName1:[null,[a.Validators.required]],lastName2:[null],state:[null,[a.Validators.required]],city:[null,[a.Validators.required]],town:[null,[a.Validators.required]],address:[null,[a.Validators.required,de.requiredAddress()]],phone:[null,[a.Validators.required,a.Validators.minLength(8),de.onlyNumbersPattern()]]}),this._activatedRoute.params.pipe((0,u.R)(this._unsubscribeAll)).subscribe(({invoiceId:c})=>{this.invoiceId=c,"new"!==c?this.editMode=!0:this.invoiceService.generateInvoiceNo().pipe((0,u.R)(this._unsubscribeAll)).subscribe(F=>{this.invoiceForm.get("invoiceNo").setValue(F)}),this._changeDetectorRef.markForCheck()}),this.invoice$=this.store.select(N),this.invoice$.pipe((0,u.R)(this._unsubscribeAll)).subscribe(c=>{this.selectedInvoice=c,null!==c&&this.editMode&&(this.invoiceForm.patchValue(this.selectedInvoice),this.invoiceForm.get("accountId").setValue(this.selectedInvoice.accountId._id),this.remitterForm.patchValue(this.selectedInvoice.remitter),this.beneficiaryForm.patchValue(this.selectedInvoice.beneficiary),this.cards=this.selectedInvoice.beneficiary.cards),this._changeDetectorRef.markForCheck()}),null===(t=this.invoiceForm.get("beneficiaryCard"))||void 0===t||t.valueChanges.pipe((0,u.R)(this._unsubscribeAll)).subscribe(c=>{this.invoiceService.getTotalAmountMonth(c).pipe((0,u.R)(this._unsubscribeAll)).subscribe(F=>{this.totalCardAmountInMonth=F,this.checkAndSetAmountErrors()}),this._changeDetectorRef.markForCheck()}),null===(r=this.beneficiaryForm.get("state"))||void 0===r||r.valueChanges.pipe((0,u.R)(this._unsubscribeAll)).subscribe(c=>{this._getCitiesByState(c),this.fillAddress(this.beneficiaryForm.get("address").value,"beneficiaryForm"),this._changeDetectorRef.markForCheck()}),null===(l=this.remitterForm.get("country"))||void 0===l||l.valueChanges.pipe((0,u.R)(this._unsubscribeAll)).subscribe(c=>{this.remitterStates=null,this.remitterCities=[],this.remitterForm.get("state").disable(),this.remitterForm.get("city").disable(),this.fillAddress(this.remitterForm.get("address").value,"remitterForm"),this._locationService.getStatesFilteredStateCountriesNow(c).pipe((0,u.R)(this._unsubscribeAll)).subscribe(F=>{this.remitterStates=F,this.remitterForm.get("state").enable(),this._changeDetectorRef.markForCheck()})}),null===(m=this.remitterForm.get("state"))||void 0===m||m.valueChanges.pipe((0,u.R)(this._unsubscribeAll)).subscribe(c=>{this.remitterCities=[],this.remitterForm.get("city").disable(),this.fillAddress(this.remitterForm.get("address").value,"remitterForm"),this.remitterStates&&c&&this._locationService.getCitiesByStateCountriesNow(this.remitterStates.name,c).pipe((0,u.R)(this._unsubscribeAll)).subscribe(F=>{this.remitterForm.get("city").enable(),this.remitterCities=F,this._changeDetectorRef.markForCheck()})}),this.filteredRemitters=this.remitterForm.get("idNumber").valueChanges.pipe((0,u.R)(this._unsubscribeAll),(0,p.b)(600),(0,ae.O)(""),(0,s.w)(c=>this.invoiceService.searchRemitterByIdNumber(c))),this.filteredBeneficiaries=this.beneficiaryForm.get("idNumber").valueChanges.pipe((0,u.R)(this._unsubscribeAll),(0,p.b)(600),(0,ae.O)(""),(0,s.w)(c=>this.invoiceService.searchBeneficiaryByIdNumber(c)))}createInvoice(){const t=this.remitterForm.getRawValue(),r=this.beneficiaryForm.getRawValue(),l=this.invoiceForm.getRawValue(),m=Object.assign(Object.assign({},l),{remitter:t,beneficiary:r});null!==this.newCard&&m.beneficiary.cards.push(this.newCard);const c={title:"Crear Factura",action:(0,y.BH)({invoice:m})};this.openDialog(c)}updateInvoice(){const t=this.remitterForm.getRawValue(),r=this.beneficiaryForm.getRawValue(),l=this.invoiceForm.getRawValue(),m=Object.assign(Object.assign({},l),{remitter:t,beneficiary:Object.assign({},r)}),c=[...m.beneficiary.cards];null!==this.newCard&&(c.push(this.newCard),m.beneficiary.cards=c);const F={title:"Actualizar Factura",action:(0,y.PA)({invoice:m})};this.openDialog(F)}fillRemitter(t){this.remitterForm.patchValue(t.option.value)}fillBeneficiary(t){const r=t.option.value;this.beneficiaryForm.patchValue(r),this.cards=r.cards}cardMaskFunction(t){const r=(n=>M(n))(t);return r?r.mask:[/\d/]}getCardValidation(t){return t?M(t):null}getCountryFlagByName(t){return this.countries.find(r=>r.name===t)}fillAddress(t,r){const l=(t=t||"").split("."),m=l.length>1?l[l.length-1]:"";if("remitterForm"===r){const c=this.remitterForm.get("country").value?this.remitterForm.get("country").value:" XXXXXX ",F=this.remitterForm.get("state").value?this.remitterForm.get("state").value:" XXXXXX ",re=this.remitterForm.get("city").value?this.remitterForm.get("city").value:" XXXXXX",pe=`${t.split(" ,")[0]+m.trim()} , ${re}, ${F}, ${c}.`;this.remitterForm.get("address").setValue(pe)}if("beneficiaryForm"===r){const c=this.beneficiaryForm.get("state").value?this.beneficiaryForm.get("state").value:" XXXXXX ",F=this.beneficiaryForm.get("city").value?this.beneficiaryForm.get("city").value:" XXXXXX ",re=`${t.split(" ,")[0]+m.trim()} , ${F}, ${c}, Cuba.`;this.beneficiaryForm.get("address").setValue(re)}}checkAndSetAmountErrors(){const t=+this.invoiceForm.get("amount").value;(!this.editMode&&this.invoiceForm.get("amount").valid&&t+this.totalCardAmountInMonth>1e4||this.editMode&&this.invoiceForm.get("amount").valid&&this.selectedInvoice.amount-t+this.totalCardAmountInMonth>1e4)&&this.invoiceForm.get("amount").setErrors({maxAmount:{value:"No se puede supera el l\xedmite mensual establecido de 10000"}})}trackByFn(t,r){return r.id||t}_getCitiesByState(t){t!==this.selectedState&&this._locationService.getCitiesByState(t).pipe((0,u.R)(this._unsubscribeAll)).subscribe(r=>{this.cities=r,this._changeDetectorRef.markForCheck()})}openDialog(t){this._athConfirmationService.open({title:t.title,message:"\xbfEst\xe1 seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,u.R)(this._unsubscribeAll)).subscribe(l=>{"confirmed"===l&&this.store.dispatch(t.action)})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(v.gz),e.\u0275\u0275directiveInject(V.C),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(a.FormBuilder),e.\u0275\u0275directiveInject(Ee.a),e.\u0275\u0275directiveInject(v.F0),e.\u0275\u0275directiveInject(b.yh),e.\u0275\u0275directiveInject(P.x))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ath-invoice-detail"]],decls:246,vars:130,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-wrap","p-6","sm:flex-row","flex-0","sm:items-center","sm:justify-between","sm:pt-12","sm:px-10","bg-mine-50","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"ml-1","text-primary-700","hover:underline",3,"routerLink"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[4,"ngIf"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-3xl","font-extrabold","leading-tight","tracking-tight","sm:text-3xl","text-mine-900"],[1,"flex","items-center","flex-shrink-0","mt-6","sm:mt-0","sm:ml-4"],["class","ml-4 rounded-sm bg-primary-700 hover:shadow-lg","mat-button","",3,"ngClass","disabled","click",4,"ngIf"],["class","ml-4 rounded-sm bg-primary-700 hover:shadow-lg","mat-button","","mat-button","",3,"ngClass","disabled","click",4,"ngIf"],[1,"flex-auto","p-1","py-6","bg-mine-200","shadow","sm:p-10","rounded-t-2xl"],[1,"flex","flex-col","flex-auto","min-w-0"],[1,"w-full"],[1,"",3,"expanded"],[3,"collapsedHeight"],[1,"flex","items-center"],[1,"text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[3,"formGroup","autocomplete"],[1,"grid","w-full","gap-y-3","gap-x-6","sm:p-8","mb-6","border-t-2","sm:grid-cols-4"],[1,"sm:col-span-2","mt-3","sm:mt-0"],[1,"w-full","fuse-mat-no-subscript"],["matInput","","required","",3,"type","formControlName"],[1,"sm:col-span-2"],[3,"formControlName"],[4,"ngFor","ngForOf"],[1,""],["matInput","","required","",3,"type","formControlName","change"],[1,"flex","flex-col"],[1,"mb-4","font-medium"],[3,"formControlName","color"],["placeholder","Escriba el N\xfamero de Identidad o Pasaporte","aria-label","Number","matInput","","required","",3,"type","formControlName","matAutocomplete"],["autoActiveFirstOption","",3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["matInput","","required","",3,"type","formControlName","placeholder"],["matInput","",3,"type","formControlName"],[1,"grid","sm:grid-cols-3","justify-between","sm:col-span-4","gap-3"],[1,"col-span-3","sm:col-span-1"],[1,"w-15","h-8","mr-2"],["class","w-full h-full","alt","","width","20","height","20",3,"src",4,"ngIf"],[1,"ml-2",3,"formControlName","selectionChange"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],[3,"formControlName",4,"ngIf"],[3,"formControlName","selectionChange"],[1,"w-full","fuse-mat-no-subscript","fuse-mat-emphasized-affix"],["matInput","","type","tel","required","",3,"formControlName","placeholder"],["matPrefix","",1,"mr-1.5",3,"formControlName"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"sm:col-span-4"],["matInput","","required","",3,"placeholder","formControlName","input"],[1,"grid","w-full","gap-y-3","gap-x-6","sm:p-8","mb-6","border-t-2","sm:grid-cols-2","md:grid-cols-4"],["autob","matAutocomplete"],[1,"sm:col-span-3",3,"formGroup","autocomplete"],["class","sm:col-span-3",4,"ngIf"],["required","",3,"formControlName"],["required","",3,"formControlName","selectionChange"],[1,"sm:col-span-4",3,"formGroup","autocomplete"],["matInput","",3,"formControlName","placeholder"],[1,"ml-1","text-primary-700"],["mat-button","",1,"ml-4","rounded-sm","bg-primary-700","hover:shadow-lg",3,"ngClass","disabled","click"],[1,"text-mine-900",3,"svgIcon"],[1,"ml-2","mr-1","text-lg","text-mine-900"],["mat-button","","mat-button","",1,"ml-4","rounded-sm","bg-primary-700","hover:shadow-lg",3,"ngClass","disabled","click"],[3,"value"],["alt","","width","20","height","20",1,"w-full","h-full",3,"src"],[1,"w-6","h-4","mr-2"],["alt","",1,"w-full","h-full",3,"src"],[1,"flex","items-center",3,"matTooltip"],[1,"w-6","h-4","overflow-hidden"],[1,"ml-2","font-medium"],[1,"sm:col-span-3"],[1,"flex"],["matInput","","required","",1,"border","border-gray-300","text-gray-900","text-md","focus:ring-wire-500","focus:border-wire-500","block","w-full","p-2.5","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-wire-500","dark:focus:border-wire-500",3,"type","formControlName","ngClass","textMask","change"],[1,"w-15","h-8","ml-2"],["class","w-full h-full",3,"src",4,"ngIf"],[1,"mt-2",2,"margin-left","20px",3,"click"],[3,"svgIcon"],[1,"w-full","h-full",3,"src"],[1,"h-12","w-full","mt-1",3,"click"],[1,"flex","justify-center","items-center"],[1,"ml-2"],[1,"w-12","h-8","mr-2"],["class","w-full h-full","alt","",3,"src",4,"ngIf"]],template:function(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div"),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"a",5),e.\u0275\u0275text(7,"Facturas"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",4),e.\u0275\u0275element(9,"mat-icon",6),e.\u0275\u0275template(10,Fe,3,0,"ng-container",7),e.\u0275\u0275template(11,Ae,3,1,"ng-container",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",8),e.\u0275\u0275elementStart(13,"a",9),e.\u0275\u0275element(14,"mat-icon",6),e.\u0275\u0275elementStart(15,"span",10),e.\u0275\u0275text(16,"Regresar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",11),e.\u0275\u0275elementStart(18,"div",12),e.\u0275\u0275template(19,Te,2,0,"ng-container",7),e.\u0275\u0275template(20,ke,2,1,"ng-container",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div",13),e.\u0275\u0275template(22,Ne,4,5,"button",14),e.\u0275\u0275template(23,De,4,5,"button",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"div",16),e.\u0275\u0275elementStart(25,"div",17),e.\u0275\u0275elementStart(26,"mat-accordion",18),e.\u0275\u0275elementStart(27,"mat-expansion-panel",19),e.\u0275\u0275elementStart(28,"mat-expansion-panel-header",20),e.\u0275\u0275elementStart(29,"mat-panel-title",21),e.\u0275\u0275elementStart(30,"div",22),e.\u0275\u0275text(31," Informaci\xf3n General "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"form",23),e.\u0275\u0275elementStart(33,"div",24),e.\u0275\u0275elementStart(34,"div",25),e.\u0275\u0275elementStart(35,"mat-form-field",26),e.\u0275\u0275elementStart(36,"mat-label"),e.\u0275\u0275text(37,"N\xfamero de Factura"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(38,"input",27),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"div",28),e.\u0275\u0275elementStart(40,"mat-form-field",26),e.\u0275\u0275elementStart(41,"mat-label"),e.\u0275\u0275text(42,"Seleccione la cuenta "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"mat-select",29),e.\u0275\u0275template(44,we,3,2,"ng-container",30),e.\u0275\u0275pipe(45,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"div",31),e.\u0275\u0275elementStart(47,"mat-form-field",26),e.\u0275\u0275elementStart(48,"mat-label"),e.\u0275\u0275text(49,"Importe (10.000 m\xe1x)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"input",32),e.\u0275\u0275listener("change",function(){return r.checkAndSetAmountErrors()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(51,Me,2,0,"mat-error",7),e.\u0275\u0275template(52,Re,2,0,"mat-error",7),e.\u0275\u0275template(53,Ve,2,0,"mat-error",7),e.\u0275\u0275template(54,Pe,2,1,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(55,"div",31),e.\u0275\u0275elementStart(56,"mat-form-field",26),e.\u0275\u0275elementStart(57,"mat-label"),e.\u0275\u0275text(58,"Comisi\xf3n de Fincimex"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(59,"input",27),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(60,"div",31),e.\u0275\u0275elementStart(61,"mat-form-field",26),e.\u0275\u0275elementStart(62,"mat-label"),e.\u0275\u0275text(63,"Id de Fincimex"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(64,"input",27),e.\u0275\u0275template(65,Oe,2,0,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(66,"div"),e.\u0275\u0275elementStart(67,"div",33),e.\u0275\u0275elementStart(68,"span",34),e.\u0275\u0275text(69,"\xbfEnviar a Fincimex?"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(70,"mat-slide-toggle",35),e.\u0275\u0275text(71),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(72,"mat-expansion-panel"),e.\u0275\u0275elementStart(73,"mat-expansion-panel-header",20),e.\u0275\u0275elementStart(74,"mat-panel-title",21),e.\u0275\u0275elementStart(75,"div",22),e.\u0275\u0275text(76," Informaci\xf3n del Remesante "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(77,"form",23),e.\u0275\u0275elementStart(78,"div",24),e.\u0275\u0275elementStart(79,"div",25),e.\u0275\u0275elementStart(80,"mat-form-field",26),e.\u0275\u0275elementStart(81,"mat-label"),e.\u0275\u0275text(82,"N\xfamero de Identidad o Pasaporte"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(83,"input",36),e.\u0275\u0275elementStart(84,"mat-autocomplete",37,38),e.\u0275\u0275listener("optionSelected",function(m){return r.fillRemitter(m)}),e.\u0275\u0275template(86,Be,2,5,"mat-option",39),e.\u0275\u0275pipe(87,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(88,"mat-hint"),e.\u0275\u0275text(89,"Filtre por nombre, n\xfamero de identidad o pasaporte."),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(90,je,2,0,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(91,"div",28),e.\u0275\u0275elementStart(92,"mat-form-field",26),e.\u0275\u0275elementStart(93,"mat-label"),e.\u0275\u0275text(94,"Nombre"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(95,"input",40),e.\u0275\u0275template(96,Le,2,0,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(97,"div",28),e.\u0275\u0275elementStart(98,"mat-form-field",26),e.\u0275\u0275elementStart(99,"mat-label"),e.\u0275\u0275text(100,"Primer Apellido"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(101,"input",27),e.\u0275\u0275template(102,$e,2,0,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(103,"div",28),e.\u0275\u0275elementStart(104,"mat-form-field",26),e.\u0275\u0275elementStart(105,"mat-label"),e.\u0275\u0275text(106,"Segundo Apellido"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(107,"input",41),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(108,"div",42),e.\u0275\u0275elementStart(109,"div",43),e.\u0275\u0275elementStart(110,"mat-form-field",26),e.\u0275\u0275elementStart(111,"mat-label"),e.\u0275\u0275text(112,"Pa\xeds"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(113,"div",44),e.\u0275\u0275template(114,Ue,1,1,"img",45),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(115,"mat-select",46),e.\u0275\u0275listener("selectionChange",function(m){return r.selectedCountry=r.getCountryFlagByName(m.value)}),e.\u0275\u0275template(116,Xe,6,3,"mat-option",39),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(117,ze,2,0,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(118,"div",43),e.\u0275\u0275elementStart(119,"mat-form-field",26),e.\u0275\u0275elementStart(120,"mat-label"),e.\u0275\u0275text(121,"Estado"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(122,"mat-icon",47),e.\u0275\u0275template(123,qe,1,1,"mat-select",48),e.\u0275\u0275template(124,We,2,2,"mat-select",48),e.\u0275\u0275template(125,Ge,2,0,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(126,"div",43),e.\u0275\u0275elementStart(127,"mat-form-field",26),e.\u0275\u0275elementStart(128,"mat-label"),e.\u0275\u0275text(129,"Ciudad"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(130,"mat-icon",47),e.\u0275\u0275elementStart(131,"mat-select",49),e.\u0275\u0275listener("selectionChange",function(){return r.fillAddress(r.remitterForm.get("address").value,"remitterForm")}),e.\u0275\u0275template(132,Je,2,2,"mat-option",39),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(133,Ze,2,0,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(134,"div",28),e.\u0275\u0275elementStart(135,"mat-form-field",50),e.\u0275\u0275elementStart(136,"mat-label"),e.\u0275\u0275text(137,"C\xf3digo Postal"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(138,"input",41),e.\u0275\u0275template(139,Qe,2,0,"mat-error",7),e.\u0275\u0275template(140,Ye,2,0,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(141,"div",28),e.\u0275\u0275elementStart(142,"mat-form-field",26),e.\u0275\u0275elementStart(143,"mat-label"),e.\u0275\u0275text(144,"Tel\xe9fono"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(145,"input",51),e.\u0275\u0275elementStart(146,"mat-select",52),e.\u0275\u0275template(147,Ke,8,4,"ng-container",53),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(148,et,2,0,"mat-error",7),e.\u0275\u0275template(149,tt,2,0,"mat-error",7),e.\u0275\u0275template(150,nt,2,0,"mat-error",7),e.\u0275\u0275template(151,rt,2,0,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(152,"div",54),e.\u0275\u0275elementStart(153,"mat-form-field",26),e.\u0275\u0275elementStart(154,"mat-label"),e.\u0275\u0275text(155,"Direcci\xf3n"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(156,"textarea",55),e.\u0275\u0275listener("input",function(m){return r.fillAddress(m.target.value,"remitterForm")}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(157,"mat-hint"),e.\u0275\u0275text(158,"Una vez comience a escribir se autocompletar\xe1 la direci\xf3n con el siguiente fotmato ( , Ciudad, Estado, Pa\xeds. ) ."),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(159,ot,2,0,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(160,"mat-expansion-panel"),e.\u0275\u0275elementStart(161,"mat-expansion-panel-header",20),e.\u0275\u0275elementStart(162,"mat-panel-title",21),e.\u0275\u0275elementStart(163,"div",22),e.\u0275\u0275text(164," Informaci\xf3n del Beneficiario "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(165,"form",23),e.\u0275\u0275elementStart(166,"div",56),e.\u0275\u0275elementStart(167,"div",25),e.\u0275\u0275elementStart(168,"mat-form-field",26),e.\u0275\u0275elementStart(169,"mat-label"),e.\u0275\u0275text(170,"N\xfamero de Identidad"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(171,"input",36),e.\u0275\u0275template(172,it,2,0,"mat-error",7),e.\u0275\u0275template(173,at,2,0,"mat-error",7),e.\u0275\u0275template(174,lt,2,0,"mat-error",7),e.\u0275\u0275template(175,mt,2,0,"mat-error",7),e.\u0275\u0275elementStart(176,"mat-hint"),e.\u0275\u0275text(177,"Filtre por nombre o n\xfamero de identidad."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(178,"mat-autocomplete",37,57),e.\u0275\u0275listener("optionSelected",function(m){return r.fillBeneficiary(m)}),e.\u0275\u0275template(180,st,2,5,"mat-option",39),e.\u0275\u0275pipe(181,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(182,"div",31),e.\u0275\u0275elementStart(183,"mat-form-field",26),e.\u0275\u0275elementStart(184,"mat-label"),e.\u0275\u0275text(185,"Nombre"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(186,"input",40),e.\u0275\u0275template(187,ct,2,0,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(188,"div",31),e.\u0275\u0275elementStart(189,"mat-form-field",26),e.\u0275\u0275elementStart(190,"mat-label"),e.\u0275\u0275text(191,"Primer Apellido"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(192,"input",27),e.\u0275\u0275template(193,dt,2,0,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(194,"div",31),e.\u0275\u0275elementStart(195,"mat-form-field",26),e.\u0275\u0275elementStart(196,"mat-label"),e.\u0275\u0275text(197,"Segundo Apellido"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(198,"input",41),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(199,"form",58),e.\u0275\u0275template(200,ht,12,13,"div",59),e.\u0275\u0275template(201,Ct,16,7,"div",59),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(202,"div",28),e.\u0275\u0275elementStart(203,"mat-form-field",26),e.\u0275\u0275elementStart(204,"mat-label"),e.\u0275\u0275text(205,"Provincia"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(206,"mat-icon",47),e.\u0275\u0275elementStart(207,"mat-select",60),e.\u0275\u0275template(208,It,2,2,"mat-option",39),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(209,St,2,0,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(210,"div",28),e.\u0275\u0275elementStart(211,"mat-form-field",26),e.\u0275\u0275elementStart(212,"mat-label"),e.\u0275\u0275text(213,"Municipio"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(214,"mat-icon",47),e.\u0275\u0275elementStart(215,"mat-select",61),e.\u0275\u0275listener("selectionChange",function(){return r.fillAddress(r.beneficiaryForm.get("address").value,"beneficiaryForm")}),e.\u0275\u0275template(216,Ft,2,2,"mat-option",39),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(217,At,2,0,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(218,"div",28),e.\u0275\u0275elementStart(219,"mat-form-field",26),e.\u0275\u0275elementStart(220,"mat-label"),e.\u0275\u0275text(221,"Reparto o Consejo Popular"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(222,"input",27),e.\u0275\u0275template(223,Tt,2,0,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(224,"div",28),e.\u0275\u0275elementStart(225,"mat-form-field",26),e.\u0275\u0275elementStart(226,"mat-label"),e.\u0275\u0275text(227,"Tel\xe9fono"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(228,"input",27),e.\u0275\u0275template(229,kt,2,0,"mat-error",7),e.\u0275\u0275template(230,Nt,2,0,"mat-error",7),e.\u0275\u0275template(231,Dt,2,0,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(232,"div",54),e.\u0275\u0275elementStart(233,"mat-form-field",26),e.\u0275\u0275elementStart(234,"mat-label"),e.\u0275\u0275text(235,"Direcci\xf3n"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(236,"textarea",55),e.\u0275\u0275listener("input",function(m){return r.fillAddress(m.target.value,"beneficiaryForm")}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(237,"mat-hint"),e.\u0275\u0275text(238,"Una vez comience a escribir se autocompletar\xe1 la direci\xf3n con el siguiente fotmato ( , Reparto, Estado, Pa\xeds. ) ."),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(239,wt,2,0,"mat-error",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(240,"form",62),e.\u0275\u0275elementStart(241,"div"),e.\u0275\u0275elementStart(242,"mat-form-field",26),e.\u0275\u0275elementStart(243,"mat-label"),e.\u0275\u0275text(244,"Observaciones"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(245,"textarea",63),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t){const l=e.\u0275\u0275reference(85),m=e.\u0275\u0275reference(179);e.\u0275\u0275advance(6),e.\u0275\u0275property("routerLink","/invoices"),e.\u0275\u0275advance(3),e.\u0275\u0275property("svgIcon","heroicons_solid:chevron-right"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","new"===r.invoiceId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","new"!==r.invoiceId&&null!==r.selectedInvoice),e.\u0275\u0275advance(2),e.\u0275\u0275property("routerLink","./.."),e.\u0275\u0275advance(1),e.\u0275\u0275property("svgIcon","heroicons_solid:chevron-left"),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf","new"===r.invoiceId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","new"!==r.invoiceId&&null!==r.selectedInvoice),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","new"===r.invoiceId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","new"!==r.invoiceId),e.\u0275\u0275advance(4),e.\u0275\u0275property("expanded",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("collapsedHeight","56px"),e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",r.invoiceForm)("autocomplete","off"),e.\u0275\u0275advance(6),e.\u0275\u0275property("type","text")("formControlName","invoiceNo"),e.\u0275\u0275advance(5),e.\u0275\u0275property("formControlName","accountId"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(45,124,r.accounts$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("type","number")("formControlName","amount"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.invoiceForm.get("amount").hasError("required")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.invoiceForm.get("amount").hasError("min")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.invoiceForm.get("amount").hasError("max")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.invoiceForm.get("amount").hasError("maxAmount")),e.\u0275\u0275advance(5),e.\u0275\u0275property("type","number")("formControlName","fincimexTax"),e.\u0275\u0275advance(5),e.\u0275\u0275property("type","number")("formControlName","fincimexId"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.invoiceForm.get("fincimexId").hasError("required")),e.\u0275\u0275advance(5),e.\u0275\u0275property("formControlName","sendFincimex")("color","primary"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",!0===r.invoiceForm.get("sendFincimex").value?"Enviar":"No enviar"," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("collapsedHeight","56px"),e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",r.remitterForm)("autocomplete","off"),e.\u0275\u0275advance(6),e.\u0275\u0275property("type","text")("formControlName","idNumber")("matAutocomplete",l),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(87,126,r.filteredRemitters)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",r.remitterForm.get("idNumber").hasError("required")),e.\u0275\u0275advance(5),e.\u0275\u0275property("type","text")("formControlName","name")("placeholder","Nombre"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.remitterForm.get("name").hasError("required")),e.\u0275\u0275advance(5),e.\u0275\u0275property("type","text")("formControlName","lastName1"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.remitterForm.get("lastName1").hasError("required")),e.\u0275\u0275advance(5),e.\u0275\u0275property("type","text")("formControlName","lastName2"),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",r.selectedCountry),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","country"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",r.countries),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.remitterForm.get("diaCode").hasError("required")),e.\u0275\u0275advance(5),e.\u0275\u0275property("svgIcon","heroicons_solid:map"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!r.remitterStates),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.remitterStates),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.remitterForm.get("diaCode").hasError("required")),e.\u0275\u0275advance(5),e.\u0275\u0275property("svgIcon","heroicons_solid:location-marker"),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","city"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",r.remitterCities),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.remitterForm.get("diaCode").hasError("required")),e.\u0275\u0275advance(5),e.\u0275\u0275property("type","text")("formControlName","postalCode"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.remitterForm.get("postalCode").hasError("pattern")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.remitterForm.get("postalCode").hasError("minlength")||r.remitterForm.get("postalCode").hasError("maxlength")),e.\u0275\u0275advance(5),e.\u0275\u0275property("formControlName","phone")("placeholder","Tel\xe9fono"),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","diaCode"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",r.countries)("ngForTrackBy",r.trackByFn),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.remitterForm.get("diaCode").hasError("required")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.remitterForm.get("phone").hasError("required")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.remitterForm.get("phone").hasError("pattern")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.remitterForm.get("phone").hasError("minlength")),e.\u0275\u0275advance(5),e.\u0275\u0275property("placeholder","Direcci\xf3n del remesante")("formControlName","address"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",r.remitterForm.get("address").hasError("required")||r.remitterForm.get("address").hasError("requiredAddress")),e.\u0275\u0275advance(2),e.\u0275\u0275property("collapsedHeight","56px"),e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",r.beneficiaryForm)("autocomplete","off"),e.\u0275\u0275advance(6),e.\u0275\u0275property("type","text")("formControlName","idNumber")("matAutocomplete",m),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.beneficiaryForm.get("idNumber").hasError("required")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.beneficiaryForm.get("idNumber").hasError("maxlength")||r.beneficiaryForm.get("idNumber").hasError("minlength")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.beneficiaryForm.get("idNumber").hasError("validateIdNumber")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.beneficiaryForm.get("idNumber").hasError("pattern")),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(181,128,r.filteredBeneficiaries)),e.\u0275\u0275advance(6),e.\u0275\u0275property("type","text")("formControlName","name")("placeholder","Nombre"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.beneficiaryForm.get("name").hasError("required")),e.\u0275\u0275advance(5),e.\u0275\u0275property("type","text")("formControlName","lastName1"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.beneficiaryForm.get("lastName1").hasError("required")),e.\u0275\u0275advance(5),e.\u0275\u0275property("type","text")("formControlName","lastName2"),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",r.invoiceForm)("autocomplete","off"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!==r.newCard),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null===r.newCard),e.\u0275\u0275advance(5),e.\u0275\u0275property("svgIcon","heroicons_solid:map"),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","state"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",r.states),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.beneficiaryForm.get("state").hasError("required")),e.\u0275\u0275advance(5),e.\u0275\u0275property("svgIcon","heroicons_solid:location-marker"),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","city"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",r.cities),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.beneficiaryForm.get("city").hasError("required")),e.\u0275\u0275advance(5),e.\u0275\u0275property("type","text")("formControlName","town"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.beneficiaryForm.get("town").hasError("required")),e.\u0275\u0275advance(5),e.\u0275\u0275property("type","text")("formControlName","phone"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.beneficiaryForm.get("phone").hasError("required")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.beneficiaryForm.get("phone").hasError("pattern")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.beneficiaryForm.get("phone").hasError("minlength")),e.\u0275\u0275advance(5),e.\u0275\u0275property("placeholder","Direcci\xf3n del remesante")("formControlName","address"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",r.beneficiaryForm.get("address").hasError("required")||r.beneficiaryForm.get("address").hasError("requiredAddress")),e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",r.invoiceForm)("autocomplete","off"),e.\u0275\u0275advance(5),e.\u0275\u0275property("formControlName","beneficiaryNote")("placeholder","Escriba cualquier comentario que considere oportuno")}},directives:[T.PQ,v.yS,le.Hw,S.O5,$.lW,S.mk,fe.pp,fe.ib,fe.yz,fe.yK,a.\u0275NgNoValidate,a.NgControlStatusGroup,a.FormGroupDirective,ue.KE,ue.hX,be.Nt,a.DefaultValueAccessor,a.RequiredValidator,a.NgControlStatus,a.FormControlName,xe.gD,S.sg,Ce.ey,ue.TO,Ie.Rr,ve.ZL,ve.XC,ue.bx,ue.qo,J.gM,E.hd],pipes:[S.Ov,Se],encapsulation:2,data:{animation:L.p},changeDetection:0}),n})(),Rt=(()=>{class n{constructor(t,r){this._invoicesService=t,this.store=r}resolve(t,r){return this.store.dispatch((0,y.sL)())}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275inject(P.x),e.\u0275\u0275inject(b.yh))},n.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vt=(()=>{class n{constructor(t,r){this._invoicesService=t,this.store=r}resolve(t,r){const l=t.params.invoiceId;if("new"!==l)return this.store.dispatch((0,y.XD)({invoiceId:l}))}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275inject(P.x),e.\u0275\u0275inject(b.yh))},n.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Pt=i(5497),Ot=i(7681);const Bt=[{path:"",component:ce,resolve:{invoices:Rt,users:Pt.o}},{path:":invoiceId",component:Mt,resolve:{accounts:Ot.$c,invoice:Vt}}];let jt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[[v.Bz.forChild(Bt),g.m,E.QA]]}),n})()},7795:(se,A,i)=>{"use strict";var g=i(5e3),E=i(3075),I=i(2313),y=i(2243),a=i(5e3);A.wR={provide:E.NG_VALUE_ACCESSOR,useExisting:g.forwardRef(function(){return _}),multi:!0};var _=function(){function s(d,b,R){this._renderer=d,this._elementRef=b,this._compositionMode=R,this.textMaskConfig={mask:[],guide:!0,placeholderChar:"_",pipe:void 0,keepCharPositions:!1},this.onChange=function(N){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function h(){var s=I.\u0275getDOM()?I.\u0275getDOM().getUserAgent():"";return/android (\d+)/.test(s.toLowerCase())}())}return s.prototype.ngOnChanges=function(d){this._setupMask(!0),void 0!==this.textMaskInputElement&&this.textMaskInputElement.update(this.inputElement.value)},s.prototype.writeValue=function(d){this._setupMask(),this._renderer.setProperty(this.inputElement,"value",null==d?"":d),void 0!==this.textMaskInputElement&&this.textMaskInputElement.update(d)},s.prototype.registerOnChange=function(d){this.onChange=d},s.prototype.registerOnTouched=function(d){this.onTouched=d},s.prototype.setDisabledState=function(d){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",d)},s.prototype._handleInput=function(d){(!this._compositionMode||this._compositionMode&&!this._composing)&&(this._setupMask(),void 0!==this.textMaskInputElement&&(this.textMaskInputElement.update(d),this.onChange(d=this.inputElement.value)))},s.prototype._setupMask=function(d){void 0===d&&(d=!1),this.inputElement||(this.inputElement="INPUT"===this._elementRef.nativeElement.tagName.toUpperCase()?this._elementRef.nativeElement:this._elementRef.nativeElement.getElementsByTagName("INPUT")[0]),this.inputElement&&d&&(this.textMaskInputElement=y.createTextMaskInputElement(Object.assign({inputElement:this.inputElement},this.textMaskConfig)))},s.prototype._compositionStart=function(){this._composing=!0},s.prototype._compositionEnd=function(d){this._composing=!1,this._compositionMode&&this._handleInput(d)},s.ctorParameters=function(){return[{type:g.Renderer2},{type:g.ElementRef},{type:void 0,decorators:[{type:g.Optional},{type:g.Inject,args:[E.COMPOSITION_BUFFER_MODE]}]}]},s.propDecorators={textMaskConfig:[{type:g.Input,args:["textMask"]}]},s.\u0275fac=function(b){return new(b||s)(a.\u0275\u0275directiveInject(a.Renderer2),a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(E.COMPOSITION_BUFFER_MODE,8))},s.\u0275dir=a.\u0275\u0275defineDirective({type:s,selectors:[["","textMask",""]],hostBindings:function(b,R){1&b&&a.\u0275\u0275listener("input",function(H){return R._handleInput(H.target.value)})("blur",function(){return R.onTouched()})("compositionstart",function(){return R._compositionStart()})("compositionend",function(H){return R._compositionEnd(H.target.value)})},inputs:{textMaskConfig:["textMask","textMaskConfig"]},exportAs:["textMask"],features:[a.\u0275\u0275ProvidersFeature([A.wR]),a.\u0275\u0275NgOnChangesFeature]}),s}();A.hd=_;var u=function(){function s(){}return s.ctorParameters=function(){return[]},s.\u0275fac=function(b){return new(b||s)},s.\u0275mod=a.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=a.\u0275\u0275defineInjector({}),s}();A.QA=u,i(2243)},2243:function(se){se.exports=function(A){function i(g){if(v[g])return v[g].exports;var E=v[g]={exports:{},id:g,loaded:!1};return A[g].call(E.exports,E,E.exports,i),E.loaded=!0,E.exports}var v={};return i.m=A,i.c=v,i.p="",i(0)}([function(A,i,v){"use strict";function g(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(i,"__esModule",{value:!0});var E=v(3);Object.defineProperty(i,"conformToMask",{enumerable:!0,get:function(){return g(E).default}});var I=v(2);Object.defineProperty(i,"adjustCaretPosition",{enumerable:!0,get:function(){return g(I).default}});var y=v(5);Object.defineProperty(i,"createTextMaskInputElement",{enumerable:!0,get:function(){return g(y).default}})},function(A,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.placeholderChar="_",i.strFunction="function"},function(A,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function v(I){var y=I.previousConformedValue,a=void 0===y?E:y,f=I.previousPlaceholder,h=void 0===f?E:f,_=I.currentCaretPosition,u=void 0===_?0:_,p=I.conformedValue,s=I.rawValue,d=I.placeholderChar,b=I.placeholder,R=I.indexesOfPipedChars,N=void 0===R?g:R,H=I.caretTrapIndexes,L=void 0===H?g:H;if(0===u||!s.length)return 0;var e=a.length,V=b.length,D=p.length,P=s.length-e,T=P>0;if(P>1&&!T&&0!==e)return u;var S=0,J=void 0,U=void 0;if(!T||a!==p&&p!==b){var Z=p.toLowerCase(),k=s.toLowerCase().substr(0,u).split(E).filter(function(M){return-1!==Z.indexOf(M)});U=k[k.length-1];var Y=h.substr(0,k.length).split(E).filter(function(M){return M!==d}).length,O=b.substr(0,k.length).split(E).filter(function(M){return M!==d}).length;!T&&(O!==Y||void 0!==h[k.length-1]&&void 0!==b[k.length-2]&&h[k.length-1]!==d&&h[k.length-1]!==b[k.length-1]&&h[k.length-1]===b[k.length-2])&&Y>0&&b.indexOf(U)>-1&&void 0!==s[u]&&(J=!0,U=s[u]);for(var ie=N.map(function(M){return Z[M]}).filter(function(M){return M===U}).length,te=k.filter(function(M){return M===U}).length,ae=b.substr(0,b.indexOf(d)).split(E).filter(function(M,q){return M===U&&s[q]!==M}).length+te+ie+(J?1:0),ee=0,z=0;z<D&&(S=z+1,Z[z]===U&&ee++,!(ee>=ae));z++);}else S=u-P;if(T){for(var B=S,x=S;x<=V;x++)if(b[x]===d&&(B=x),b[x]===d||-1!==L.indexOf(x)||x===V)return B}else if(J){for(var j=S-1;j>=0;j--)if(p[j]===U||-1!==L.indexOf(j)||0===j)return j}else for(var G=S;G>=0;G--)if(b[G-1]===d||-1!==L.indexOf(G)||0===G)return G};var g=[],E=""},function(A,i,v){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};i.default=function g(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,I.isArray)(_)){if((void 0===_?"undefined":E(_))!==y.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");_=_(h,u),_=(0,I.processCaretTraps)(_).maskWithoutCaretTraps}var p=u.guide,s=void 0===p||p,d=u.previousConformedValue,b=void 0===d?f:d,R=u.placeholderChar,N=void 0===R?y.placeholderChar:R,H=u.placeholder,L=void 0===H?(0,I.convertMaskToPlaceholder)(_,N):H,e=u.keepCharPositions,V=!1===s&&void 0!==b,D=h.length,P=b.length,T=L.length,le=_.length,$=D-P,W=$>0,S=u.currentCaretPosition+(W?-$:0),J=S+Math.abs($);if(!0===e&&!W){for(var U=f,Z=S;Z<J;Z++)L[Z]===N&&(U+=N);h=h.slice(0,S)+U+h.slice(S,D)}for(var X=h.split(f).map(function(j,G){return{char:j,isNew:G>=S&&G<J}}),w=D-1;w>=0;w--){var k=X[w].char;k!==N&&k===L[w>=S&&P===le?w-$:w]&&X.splice(w,1)}var O=f,K=!1;e:for(var Q=0;Q<T;Q++){var oe=L[Q];if(oe===N){if(X.length>0)for(;X.length>0;){var ie=X.shift(),te=ie.char,ce=ie.isNew;if(te===N&&!0!==V){O+=N;continue e}if(_[Q].test(te)){if(!0===e&&!1!==ce&&b!==f&&!1!==s&&W){for(var ae=X.length,ee=null,z=0;z<ae;z++){var ne=X[z];if(ne.char!==N&&!1===ne.isNew)break;if(ne.char===N){ee=z;break}}null!==ee?(O+=te,X.splice(ee,1)):Q--}else O+=te;continue e}K=!0}!1===V&&(O+=L.substr(Q,T));break}O+=oe}if(V&&!1===W){for(var B=null,x=0;x<O.length;x++)L[x]===N&&(B=x);O=null!==B?O.substr(0,B+1):f}return{conformedValue:O,meta:{someCharsRejected:K}}};var I=v(4),y=v(1),a=[],f=""},function(A,i,v){"use strict";function E(p){return Array.isArray&&Array.isArray(p)||p instanceof Array}Object.defineProperty(i,"__esModule",{value:!0}),i.convertMaskToPlaceholder=function g(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.placeholderChar;if(!E(p))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1!==p.indexOf(s))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\nThe placeholder character that was received is: "+JSON.stringify(s)+"\n\nThe mask that was received is: "+JSON.stringify(p));return p.map(function(d){return d instanceof RegExp?s:d}).join("")},i.isArray=E,i.isString=function I(p){return"string"==typeof p||p instanceof String},i.isNumber=function y(p){return"number"==typeof p&&void 0===p.length&&!isNaN(p)},i.isNil=function a(p){return null==p},i.processCaretTraps=function f(p){for(var s=[],d=void 0;-1!==(d=p.indexOf(u));)s.push(d),p.splice(d,1);return{maskWithoutCaretTraps:p,indexes:s}};var h=v(1),_=[],u="[]"},function(A,i,v){"use strict";function g(C){return C&&C.__esModule?C:{default:C}}function I(C,e){document.activeElement===C&&(H?L(function(){return C.setSelectionRange(e,e,R)},0):C.setSelectionRange(e,e,R))}function y(C){if((0,s.isString)(C))return C;if((0,s.isNumber)(C))return String(C);if(null==C)return b;throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value received was:\n\n "+JSON.stringify(C))}Object.defineProperty(i,"__esModule",{value:!0});var a=Object.assign||function(C){for(var e=1;e<arguments.length;e++){var V=arguments[e];for(var D in V)Object.prototype.hasOwnProperty.call(V,D)&&(C[D]=V[D])}return C},f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C};i.default=function E(C){var e={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:e,update:function(V){var D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C,P=D.inputElement,T=D.mask,le=D.guide,$=D.pipe,W=D.placeholderChar,S=void 0===W?d.placeholderChar:W,J=D.keepCharPositions,U=void 0!==J&&J,Z=D.showMask,X=void 0!==Z&&Z;if(void 0===V&&(V=P.value),V!==e.previousConformedValue){(void 0===T?"undefined":f(T))===N&&void 0!==T.pipe&&void 0!==T.mask&&($=T.pipe,T=T.mask);var w=void 0,k=void 0;if(T instanceof Array&&(w=(0,s.convertMaskToPlaceholder)(T,S)),!1!==T){var Y=y(V),O=P.selectionEnd,K=e.previousConformedValue,Q=e.previousPlaceholder,oe=void 0;if((void 0===T?"undefined":f(T))===d.strFunction){if(!1===(k=T(Y,{currentCaretPosition:O,previousConformedValue:K,placeholderChar:S})))return;var ie=(0,s.processCaretTraps)(k);oe=ie.indexes,w=(0,s.convertMaskToPlaceholder)(k=ie.maskWithoutCaretTraps,S)}else k=T;var ae={previousConformedValue:K,guide:le,placeholderChar:S,pipe:$,placeholder:w,currentCaretPosition:O,keepCharPositions:U},z=(0,p.default)(Y,k,ae).conformedValue,ne=(void 0===$?"undefined":f($))===d.strFunction,B={};ne&&(!1===(B=$(z,a({rawValue:Y},ae)))?B={value:K,rejected:!0}:(0,s.isString)(B)&&(B={value:B}));var x=ne?B.value:z,j=(0,_.default)({previousConformedValue:K,previousPlaceholder:Q,conformedValue:x,placeholder:w,rawValue:Y,currentCaretPosition:O,placeholderChar:S,indexesOfPipedChars:B.indexesOfPipedChars,caretTrapIndexes:oe}),q=x===w&&0===j?X?w:b:x;e.previousConformedValue=q,e.previousPlaceholder=w,P.value!==q&&(P.value=q,I(P,j))}}}}};var _=g(v(2)),p=g(v(3)),s=v(4),d=v(1),b="",R="none",N="object",H="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),L="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout}])},9652:(se,A,i)=>{"use strict";i.d(A,{kP:()=>E});let v=y=>crypto.getRandomValues(new Uint8Array(y)),E=(y,a=21)=>((y,a,f)=>{let h=(2<<Math.log(y.length-1)/Math.LN2)-1,_=-~(1.6*h*a/y.length);return(u=a)=>{let p="";for(;;){let s=f(_),d=_;for(;d--;)if(p+=y[s[d]&h]||"",p.length===u)return p}}})(y,a,v)}}]);