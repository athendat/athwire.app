"use strict";(self.webpackChunkath=self.webpackChunkath||[]).push([[417],{5736:(T,f,o)=>{o.d(f,{AR:()=>p,pT:()=>x,$w:()=>r,SX:()=>S,YK:()=>d});const p={_id:null,accountNo:null,userId:null,active:!0,owner:null,currency:null,name:null,balance:0,createdAt:null,updatedAt:null},x={_id:null,accountId:null,userId:null,invoiceNo:null,amount:0,status:"Nueva",fincimexId:null,fincimexTax:0,sendFincimex:!1,beneficiaryCard:null,beneficiaryNote:null,remitter:void 0,beneficiary:void 0},r={_id:null,accountId:null,userId:null,reference:null,date:null,valueDate:null,description:null,origin:null,destiny:null,accountOrigin:null,accountDestiny:null,operationType:null,currency:null,initBalance:null,amount:null,endBalance:null},S={_id:null,active:!0,name:null,lastname:null,email:null,password:null,roles:[null]},d={_id:null,invoiceId:"",transactionId:0,reason:"",canceled:!1,fincimexResponse:""}},1417:(T,f,o)=>{o.r(f),o.d(f,{DemandsModule:()=>ge});var p=o(5357),x=o(2455),r=o(3075),S=o(6087),d=o(4847),c=o(7579),s=o(2722),m=o(5620);const h=n=>n.demand,_=((0,m.P1)(h,n=>n.demand),(0,m.P1)(h,n=>n.demands));var E=o(5700),g=o(5736),y=o(2683),$=o(8372),K=o(8675),P=o(3900),R=o(9646),N=o(5119),Q=o(9652),U=o(4787),I=o(8966),e=o(5e3),k=o(7967),Y=o(8891),v=o(9808),D=o(7322),z=o(7531),b=o(1079),G=o(508),j=o(5245),L=o(2368),V=o(7423);function W(n,i){1&n&&(e.\u0275\u0275elementStart(0,"h2",6),e.\u0275\u0275text(1,"Agregar reclamaci\xf3n"),e.\u0275\u0275elementEnd())}function X(n,i){1&n&&(e.\u0275\u0275elementStart(0,"h2",6),e.\u0275\u0275text(1,"Editar reclamaci\xf3n"),e.\u0275\u0275elementEnd())}function H(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"mat-option",26),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=i.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.invoiceNo," ")}}function Z(n,i){1&n&&(e.\u0275\u0275elementStart(0,"mat-error"),e.\u0275\u0275text(1," El n\xfamero de la factura es obligatorio. "),e.\u0275\u0275elementEnd())}function J(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",21),e.\u0275\u0275elementStart(1,"mat-form-field",14),e.\u0275\u0275elementStart(2,"mat-label"),e.\u0275\u0275text(3,"N\xfamero de factura"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"input",22),e.\u0275\u0275elementStart(5,"mat-autocomplete",23,24),e.\u0275\u0275listener("optionSelected",function(l){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).fillInvoice(l)}),e.\u0275\u0275template(7,H,2,2,"mat-option",25),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,Z,2,0,"mat-error",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275reference(6),a=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(4),e.\u0275\u0275property("type","text")("formControlName","invoiceNo")("matAutocomplete",t),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(8,5,a.filteredInvoices)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",a.demandForm.get("invoiceNo").hasError("required"))}}function q(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",27),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"span"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"span"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate3("Nombre del Remesant: ",t.selectedInvoice.remitter.name," ",t.selectedInvoice.remitter.lastName1," ",t.selectedInvoice.remitter.lastName2,""),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("Tarjeta del Beneficiario: ",t.selectedInvoice.beneficiary.cardNo,""),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("TAX Fincimex: ",t.selectedInvoice.fincimexTax,"")}}function ee(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",7),e.\u0275\u0275elementStart(1,"div",8),e.\u0275\u0275elementStart(2,"form",9),e.\u0275\u0275elementStart(3,"div",10),e.\u0275\u0275template(4,J,10,7,"div",11),e.\u0275\u0275template(5,q,7,5,"div",12),e.\u0275\u0275elementStart(6,"div",13),e.\u0275\u0275elementStart(7,"mat-form-field",14),e.\u0275\u0275elementStart(8,"mat-label"),e.\u0275\u0275text(9,"Motivo"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"mat-icon",15),e.\u0275\u0275element(11,"textarea",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",13),e.\u0275\u0275elementStart(13,"mat-form-field",14),e.\u0275\u0275elementStart(14,"mat-label"),e.\u0275\u0275text(15,"Respuesta de Fincimex "),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(16,"mat-icon",15),e.\u0275\u0275element(17,"textarea",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"div",17),e.\u0275\u0275elementStart(19,"div",18),e.\u0275\u0275elementStart(20,"span",19),e.\u0275\u0275text(21,"Estado"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"mat-slide-toggle",20),e.\u0275\u0275text(23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",t.demandForm)("autocomplete","off"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","edit"!==t.dialogMode),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.selectedInvoice),e.\u0275\u0275advance(5),e.\u0275\u0275property("svgIcon","heroicons_solid:menu-alt-2"),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","reason")("rows",3)("spellcheck",!1),e.\u0275\u0275advance(5),e.\u0275\u0275property("svgIcon","heroicons_solid:menu-alt-2"),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControlName","fincimexResponse")("rows",3)("spellcheck",!1),e.\u0275\u0275advance(5),e.\u0275\u0275property("formControlName","canceled")("color","primary"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",!0===t.demandForm.get("canceled").value?"Cancelada":"Activa"," ")}}const M=function(n){return{"cursor-not-allowed":n}};function te(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",31),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).updateDemand()}),e.\u0275\u0275text(1,"Actualizar"),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(2,M,t.demandForm.invalid))("disabled",t.demandForm.invalid)}}function ne(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",31),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).createDemand()}),e.\u0275\u0275text(1,"Agregar"),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(2,M,t.demandForm.invalid))("disabled",t.demandForm.invalid)}}function ae(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",28),e.\u0275\u0275elementStart(2,"button",29),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().closeDialog()}),e.\u0275\u0275text(3,"Cancelar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,te,2,4,"button",30),e.\u0275\u0275template(5,ne,2,4,"button",30),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("color","warn"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","edit"===t.data.dialogMode),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","add"===t.data.dialogMode)}}(0,Q.kP)("1234567890GHIJKL",8);let O=(()=>{class n{constructor(t,a,l,u,C,w,xe){this.data=t,this._athConfirmationService=a,this._changeDetectorRef=l,this._dialogRef=u,this.invoicesService=C,this._formBuilder=w,this.store=xe,this.demand$=(0,R.of)(null),this.selectedDemand=g.YK,this.user$=(0,R.of)(null),this.count=0,this._unsubscribeAll=new c.x,this.dialogMode=t.dialogMode,this.demand=this.data.demand}ngOnInit(){this.user$=this.store.select(U.dy),this.user$.pipe((0,s.R)(this._unsubscribeAll)).subscribe(t=>{this.user=t,this._changeDetectorRef.markForCheck()}),this.demandForm=this._formBuilder.group({_id:[null],userId:[this.user._id,[r.Validators.required]],invoiceId:[null],invoiceNo:[null],reason:[null,[r.Validators.required]],canceled:[!1,[]],fincimexResponse:[null,[r.Validators.required]]}),"edit"===this.dialogMode&&(this.demandForm.patchValue(this.demand),this.demandForm.get("invoiceId").setValue(this.demand.invoiceId._id)),this.filteredInvoices=this.demandForm.get("invoiceNo").valueChanges.pipe((0,s.R)(this._unsubscribeAll),(0,$.b)(200),(0,K.O)(""),(0,P.w)(t=>0==this.count++?[]:this.invoicesService.searchInvoiceByNo(t)))}closeDialog(){this._dialogRef.close()}createDemand(){let t=this.demandForm.getRawValue();t=(0,N.Z)(t,["invoiceNo"]);const a={title:"Crear Reclamaci\xf3n",action:(0,y.r5)({demand:t})};this.openDialog(a)}updateDemand(){let t=this.demandForm.getRawValue();t=(0,N.Z)(t,["invoiceNo"]);const a={title:"Actualizar Reclamaci\xf3n",action:(0,y.gg)({demand:t})};this.openDialog(a)}fillInvoice(t){const a=t.option.value;this.demandForm.get("invoiceId").setValue(a._id),this.demandForm.get("invoiceNo").setValue(a.invoiceNo),this.selectedInvoice=a}openDialog(t){this._athConfirmationService.open({title:t.title,message:"\xbfEst\xe1 seguro que toda la informaci\xf3n es correcta?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,s.R)(this._unsubscribeAll)).subscribe(l=>{"confirmed"===l&&(this.store.dispatch(t.action),this.closeDialog())})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(I.WI),e.\u0275\u0275directiveInject(k.C),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(I.so),e.\u0275\u0275directiveInject(Y.x),e.\u0275\u0275directiveInject(r.FormBuilder),e.\u0275\u0275directiveInject(m.yh))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ath-demand-dialog"]],decls:9,vars:4,consts:[[1,"relative","flex","flex-col","w-full","max-h-screen"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["mat-dialog-title","",4,"ngIf"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6"],["class","w-full overflow-hidden",4,"ngIf"],[4,"ngIf"],["mat-dialog-title",""],[1,"w-full","overflow-hidden"],[1,"flex","border-t"],[1,"flex","flex-col","w-full","pt-8",3,"formGroup","autocomplete"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-x-4"],["class","sm:col-span-2",4,"ngIf"],["style","display: grid;","class","col-span-2 pb-5",4,"ngIf"],[1,"py-1","sm:col-span-2"],[1,"w-full","fuse-mat-no-subscript"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","matTextareaAutosize","","required","",3,"formControlName","rows","spellcheck"],[1,""],[1,"flex","flex-col"],[1,"mb-4","font-medium"],[3,"formControlName","color"],[1,"sm:col-span-2"],["placeholder","Escriba el n\xfamero de la factura","aria-label","Number","matInput","","required","",3,"type","formControlName","matAutocomplete"],["autoActiveFirstOption","",3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"col-span-2","pb-5",2,"display","grid"],[1,"flex","items-center","justify-between","w-full","px-8","py-4","bg-gray-50"],["mat-button","",1,"-ml-4","rounded-sm",3,"color","click"],["class","text-mine-900 rounded-sm bg-primary-700","mat-flat-button","",3,"ngClass","disabled","click",4,"ngIf"],["mat-flat-button","",1,"text-mine-900","rounded-sm","bg-primary-700",3,"ngClass","disabled","click"]],template:function(t,a){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementContainerStart(1),e.\u0275\u0275elementStart(2,"div",1),e.\u0275\u0275template(3,W,2,0,"h2",2),e.\u0275\u0275template(4,X,2,0,"h2",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementStart(5,"div",3),e.\u0275\u0275elementContainerStart(6),e.\u0275\u0275template(7,ee,24,15,"div",4),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,ae,6,3,"ng-container",5),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!a.data.demand._id&&"add"===a.dialogMode),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.data.demand._id&&"edit"===a.dialogMode),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf","view"!==a.dialogMode),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","view"!==a.data.dialogMode))},directives:[v.O5,I.uh,r.\u0275NgNoValidate,r.NgControlStatusGroup,r.FormGroupDirective,D.KE,D.hX,z.Nt,r.DefaultValueAccessor,b.ZL,r.RequiredValidator,r.NgControlStatus,r.FormControlName,b.XC,v.sg,G.ey,D.TO,j.Hw,D.qo,L.Rr,V.lW,v.mk],pipes:[v.Ov],encapsulation:2,data:{animation:E.p},changeDetection:0}),n})();var oe=o(1927),ie=o(5303),F=o(2181),le=o(7238);function re(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",34),e.\u0275\u0275elementStart(2,"div",35),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",36),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",37),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",37),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",37),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",37),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",37),e.\u0275\u0275text(15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",38),e.\u0275\u0275elementStart(17,"button",39),e.\u0275\u0275listener("click",function(){const u=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext(4).editDemand(u)}),e.\u0275\u0275element(18,"mat-icon",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"button",40),e.\u0275\u0275listener("click",function(){const u=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext(4).deleteDemand(u._id)}),e.\u0275\u0275element(20,"mat-icon",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=i.$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.transactionId," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.reason," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.canceled?"Cancelado":"Activo"," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate3(" ",t.invoiceId.remitter.name," ",t.invoiceId.remitter.lastName1," ",t.invoiceId.remitter.lastName2," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.invoiceId.beneficiary.cardNo," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.invoiceId.fincimexTax," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.fincimexResponse," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("svgIcon","heroicons_solid:pencil"),e.\u0275\u0275advance(2),e.\u0275\u0275property("svgIcon","heroicons_solid:trash")}}function de(n,i){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,re,21,11,"ng-container",33),e.\u0275\u0275elementContainerEnd()),2&n){const t=i.ngIf,a=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t)("ngForTrackBy",a.trackByFn)}}function me(n,i){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",27),e.\u0275\u0275elementStart(2,"div",28),e.\u0275\u0275elementStart(3,"div",29),e.\u0275\u0275text(4," Id.Transacci\xf3n "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",30),e.\u0275\u0275text(6," Motivo "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",29),e.\u0275\u0275text(8," Estado "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",31),e.\u0275\u0275text(10," Nombre del Remesante "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",31),e.\u0275\u0275text(12," Tarjeta del Beneficiario "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",31),e.\u0275\u0275text(14," TAX Fincimex "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"div",31),e.\u0275\u0275text(16," Respuesta de Fincimex "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",32),e.\u0275\u0275text(18," Acciones "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(19,de,2,2,"ng-container",24),e.\u0275\u0275pipe(20,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(19),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(20,1,t.demands$))}}function ce(n,i){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,me,21,3,"ng-container",26),e.\u0275\u0275elementContainerEnd()),2&n){const t=i.ngIf;e.\u0275\u0275nextContext();const a=e.\u0275\u0275reference(38);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.length>0)("ngIfElse",a)}}function se(n,i){1&n&&(e.\u0275\u0275elementStart(0,"div",41),e.\u0275\u0275text(1,"A\xfan no ha creado ninguna factura!"),e.\u0275\u0275elementEnd())}let ue=(()=>{class n{constructor(t,a,l,u,C,w){this._athConfirmationService=t,this._changeDetectorRef=a,this._fileSaverService=l,this._demandDialog=u,this._router=C,this.store=w,this.demands=[],this.emptyDemand=g.YK,this.searchInputControl=new r.FormControl,this.selectedDemand=null,this._unsubscribeAll=new c.x}ngOnInit(){this.demands$=this.store.select(_),this.demands$.pipe((0,s.R)(this._unsubscribeAll)).subscribe(t=>{this.demands=t,this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createDemand(){this.openDialog(g.YK,"add","90%")}openDialog(t,a,l){this._demandDialog.open(O,{data:{demand:t,dialogMode:a},width:l,panelClass:"ath-dialog-panel"})}editDemand(t){this.openDialog(t,"edit","90%")}deleteDemand(t){this._athConfirmationService.open({title:"Eliminar reclamaci\xf3n",message:"\xbfEst\xe1 seguro que que desea eliminar esta reclamaci\xf3n?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,s.R)(this._unsubscribeAll)).subscribe(l=>{"confirmed"===l&&this.store.dispatch((0,y.UJ)({id:t}))})}exportAsExcelFile(){this._fileSaverService.exportAsExcelFile(this.demands,"demands")}exportAsCsvFile(){this._fileSaverService.exportAsCsvFile(this.demands,"demands")}trackByFn(t,a){return a.id||t}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(k.C),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(oe.m),e.\u0275\u0275directiveInject(I.uw),e.\u0275\u0275directiveInject(p.F0),e.\u0275\u0275directiveInject(m.yh))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ath-demands"]],viewQuery:function(t,a){if(1&t&&(e.\u0275\u0275viewQuery(S.NW,5),e.\u0275\u0275viewQuery(d.YE,5)),2&t){let l;e.\u0275\u0275queryRefresh(l=e.\u0275\u0275loadQuery())&&(a._paginator=l.first),e.\u0275\u0275queryRefresh(l=e.\u0275\u0275loadQuery())&&(a._sort=l.first)}},decls:39,vars:8,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-wrap","p-6","sm:flex-row","flex-0","sm:items-center","sm:justify-between","pb-22","sm:pt-12","sm:pb-28","sm:px-10","bg-mine-50","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"whitespace-nowrap","text-primary-700"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","truncate","md:text-4xl","sm:leading-10"],[1,"flex","items-center","flex-shrink-0","mt-6","sm:mt-0","sm:ml-4"],["mat-button","",1,"ml-4","rounded-sm","bg-primary-700",3,"click"],[1,"text-mine-900",3,"svgIcon"],[1,"ml-2","mr-1","text-lg","text-mine-900"],[1,"flex-auto","p-6","-mt-16","bg-mine-200","shadow","sm:p-10","rounded-t-2xl","overflow-x-auto"],[1,"w-full","p-8","md:p-16","shadow","rounded-2xl","bg-card","print:w-auto","print:rounded-none","print:shadow-none","print:bg-transparent"],[1,"flex","items-center","justify-between","mb-5"],[1,"text-2xl","font-semibold","leading-tight"],[1,"-mr-3"],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"icon-size-5",3,"svgIcon"],["listDemandsMenu","matMenu"],["mat-menu-item","",3,"click"],[4,"ngIf"],["noDemands",""],[4,"ngIf","ngIfElse"],[1,"grid","overflow-x-auto"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","inline-flex","demands-grid","gap-4","px-6","py-4","font-semibold","shadow","md:px-8","text-md","text-secondary","bg-mine-50","dark:bg-black","dark:bg-opacity-5"],[1,"hidden","truncate","sm:block","w-1/12"],[1,"hidden","truncate","sm:block","w-3/12"],[1,"hidden","text-center","sm:block","w-1/12"],[1,"text-center","w-1/12"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"inline-flex","demands-grid","items-center","gap-4","px-6","py-3","border-b","md:px-8"],[1,"truncate","w-1/12"],[1,"hidden","truncate","w-3/12","sm:block"],[1,"hidden","truncate","w-1/12","sm:block"],[1,"flex","flex-col","justify-center","gap-1","sm:flex-row"],["mat-stroked-button","","matTooltip","Editar",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],["mat-stroked-button","","matTooltip","Eliminar",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div"),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"div"),e.\u0275\u0275elementStart(6,"a",4),e.\u0275\u0275text(7,"Facturas"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",5),e.\u0275\u0275elementStart(9,"a",6),e.\u0275\u0275element(10,"mat-icon",7),e.\u0275\u0275elementStart(11,"span",8),e.\u0275\u0275text(12,"Regresar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",9),e.\u0275\u0275elementStart(14,"h2",10),e.\u0275\u0275text(15," Registro de reclamaciones "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",11),e.\u0275\u0275elementStart(17,"button",12),e.\u0275\u0275listener("click",function(){return a.createDemand()}),e.\u0275\u0275element(18,"mat-icon",13),e.\u0275\u0275elementStart(19,"span",14),e.\u0275\u0275text(20,"Nueva"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div",15),e.\u0275\u0275elementStart(22,"div",16),e.\u0275\u0275elementStart(23,"div",17),e.\u0275\u0275elementStart(24,"div",18),e.\u0275\u0275text(25,"Registro de reclamaciones"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"div",19),e.\u0275\u0275elementStart(27,"button",20),e.\u0275\u0275element(28,"mat-icon",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"mat-menu",null,22),e.\u0275\u0275elementStart(31,"button",23),e.\u0275\u0275listener("click",function(){return a.exportAsExcelFile()}),e.\u0275\u0275text(32,"Exportar a excel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"button",23),e.\u0275\u0275listener("click",function(){return a.exportAsCsvFile()}),e.\u0275\u0275text(34,"Exportar a csv"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(35,ce,2,2,"ng-container",24),e.\u0275\u0275pipe(36,"async"),e.\u0275\u0275template(37,se,2,0,"ng-template",null,25,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t){const l=e.\u0275\u0275reference(30);e.\u0275\u0275advance(9),e.\u0275\u0275property("routerLink","./.."),e.\u0275\u0275advance(1),e.\u0275\u0275property("svgIcon","heroicons_solid:chevron-left"),e.\u0275\u0275advance(8),e.\u0275\u0275property("svgIcon","heroicons_outline:plus"),e.\u0275\u0275advance(9),e.\u0275\u0275property("matMenuTriggerFor",l),e.\u0275\u0275advance(1),e.\u0275\u0275property("svgIcon","heroicons_solid:dots-vertical"),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(36,6,a.demands$))}},directives:[ie.PQ,p.yS,j.Hw,V.lW,F.p6,F.VK,F.OP,v.O5,d.YE,v.sg,le.gM],pipes:[v.Ov],encapsulation:2,data:{animation:E.p},changeDetection:0}),n})(),B=(()=>{class n{constructor(t){this.store=t}resolve(t,a){return this.store.dispatch((0,y.rx)())}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275inject(m.yh))},n.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pe=(()=>{class n{constructor(t){this.store=t}resolve(t,a){const l=t.params.demandId;if("new"!==l)return this.store.dispatch((0,y.E2)({demandId:l}))}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275inject(m.yh))},n.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ve=o(5497);const fe=[{path:"",component:ue,resolve:{demands:B}},{path:":demandId",component:O,resolve:{demand:pe,demands:B,users:ve.o}}];let ge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[[p.Bz.forChild(fe),b.Bb,x.m]]}),n})()},9652:(T,f,o)=>{o.d(f,{kP:()=>r});let p=d=>crypto.getRandomValues(new Uint8Array(d)),r=(d,c=21)=>((d,c,s)=>{let m=(2<<Math.log(d.length-1)/Math.LN2)-1,h=-~(1.6*m*c/d.length);return(A=c)=>{let _="";for(;;){let E=s(h),g=h;for(;g--;)if(_+=d[E[g]&m]||"",_.length===A)return _}}})(d,c,p)}}]);