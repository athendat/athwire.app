"use strict";(self.webpackChunkath=self.webpackChunkath||[]).push([[941],{58941:(R,x,i)=>{i.r(x),i.d(x,{StatementsModule:()=>Y});var g=i(35357),T=i(2455),S=i(93075),y=i(86087),p=i(84847),C=i(77579),f=i(82722),b=i(95700),t=i(5e3),u=i(61135),h=i(95698),v=i(63900),l=i(54004),U=i(18505),d=i(78850),F=i(40520),q=i(65620);let _=(()=>{class n{constructor(e,s){this._httpClient=e,this.store=s,this._statement=new u.X(null),this._statements=new u.X([]),this._pagination=new u.X(null)}get statement$(){return this._statement.asObservable()}get statements$(){return this._statements.asObservable()}get pagination$(){return this._pagination.asObservable()}createStatement(e){return this.statements$.pipe((0,h.q)(1),(0,v.w)(s=>this._httpClient.post("api/statements",e).pipe((0,l.U)(a=>(this._statements.next([a.statement,...s]),this.store.dispatch(new d.fq([a.statement,...s])),a)))))}getStatements(){return this._httpClient.get("api/statements").pipe((0,U.b)(e=>{this._statements.next(e.statements),this.store.dispatch(new d.fq(e.statements))}))}getStatementById(e){return this._httpClient.get(`api/statements/${e}`).pipe((0,l.U)(s=>(this._statement.next(s.statement),s.statement)))}updateStatement(e){return this.statements$.pipe((0,h.q)(1),(0,v.w)(s=>this._httpClient.put(`api/statements/${e._id}`,e).pipe((0,l.U)(a=>{const c=s.findIndex(m=>m._id===e._id);return s[c]=a.statement,this._statements.next(s),this.store.dispatch(new d.fq(a.statements)),a}))))}deleteStatement(e){return this.statements$.pipe((0,h.q)(1),(0,v.w)(s=>this._httpClient.delete(`api/statements/${e}`).pipe((0,l.U)(a=>{const c=s.findIndex(m=>m._id===e);return s.splice(c,1),this._statements.next(s),this.store.dispatch(new d.fq(s)),a}))))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(F.eN),t.LFG(q.yh))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var I=i(97967),B=i(51927),A=i(5303),w=i(25245),Q=i(47423),Z=i(92181),r=i(69808);function $(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",37),t.TgZ(2,"div",34),t._uU(3),t.qZA(),t.TgZ(4,"div",35),t._uU(5),t.qZA(),t.TgZ(6,"div",30),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"div",30),t._uU(10),t.ALo(11,"currency"),t.qZA(),t.TgZ(12,"div",31),t._uU(13),t.ALo(14,"currency"),t.qZA(),t.TgZ(15,"div",32),t._uU(16),t.ALo(17,"currency"),t.qZA(),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(3),t.hij(" ",e.accountName," "),t.xp6(2),t.hij(" ",e.no," "),t.xp6(2),t.hij(" ",t.lcZ(8,6,e.emitDate)," "),t.xp6(3),t.hij(" ",t.lcZ(11,8,e.initBalance)," "),t.xp6(3),t.hij(" ",t.lcZ(14,10,e.endBalance)," "),t.xp6(3),t.hij(" ",t.lcZ(17,12,e.operation.length)," ")}}function E(n,o){if(1&n&&(t.ynx(0),t.YNc(1,$,18,14,"ng-container",36),t.BQk()),2&n){const e=o.ngIf,s=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e)("ngForTrackBy",s.trackByFn)}}function k(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",24),t.TgZ(2,"div",25),t.TgZ(3,"div"),t._uU(4," Nombre de la cuenta "),t.qZA(),t.TgZ(5,"div",26),t.TgZ(6,"div",27),t._uU(7," Consecutivo "),t.qZA(),t.qZA(),t.TgZ(8,"div",28),t.TgZ(9,"div",29),t._uU(10," Fecha de emisi\xf3n "),t.qZA(),t.qZA(),t.TgZ(11,"div",30),t._uU(12," Balance inicial "),t.qZA(),t.TgZ(13,"div",31),t._uU(14," Balance final "),t.qZA(),t.TgZ(15,"div",32),t._uU(16," Cantidad de operaciones "),t.qZA(),t.qZA(),t.YNc(17,E,2,2,"ng-container",21),t.ALo(18,"async"),t.TgZ(19,"div",33),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).viewStatement(1)}),t.TgZ(20,"div",34),t._uU(21," test "),t.qZA(),t.TgZ(22,"div",35),t._uU(23," test "),t.qZA(),t.TgZ(24,"div",30),t._uU(25," test "),t.qZA(),t.TgZ(26,"div",30),t._uU(27," test "),t.qZA(),t.TgZ(28,"div",31),t._uU(29," test "),t.qZA(),t.TgZ(30,"div",32),t._uU(31," test "),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(6),t.Q6J("mat-sort-header","no"),t.xp6(3),t.Q6J("mat-sort-header","emitDate"),t.xp6(8),t.Q6J("ngIf",t.lcZ(18,3,e.statements$))}}function M(n,o){if(1&n&&(t.ynx(0),t.YNc(1,k,32,5,"ng-container",23),t.BQk()),2&n){const e=o.ngIf;t.oxw();const s=t.MAs(34);t.xp6(1),t.Q6J("ngIf",e)("ngIfElse",s)}}function N(n,o){1&n&&(t.TgZ(0,"div",38),t._uU(1,"A\xfan no se ha generado ning\xfan estado cuenta!"),t.qZA())}const O=[{path:"",component:(()=>{class n{constructor(e,s,a,c,m){this._statementsService=e,this._athConfirmationService=s,this._changeDetectorRef=a,this._fileSaverService=c,this._router=m,this.statements=[],this.searchInputControl=new S.NI,this._unsubscribeAll=new C.x}ngOnInit(){this.statements$=this._statementsService.statements$,this._statementsService.statements$.pipe((0,f.R)(this._unsubscribeAll)).subscribe(e=>{this.statements=e,this._changeDetectorRef.markForCheck()}),this._statementsService.pagination$.pipe((0,f.R)(this._unsubscribeAll)).subscribe(e=>{this.pagination=e,this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}viewStatement(e){this._router.navigateByUrl(`/statements/${e}`)}exportAsExcelFile(){this._fileSaverService.exportAsExcelFile(this.statements,"statements")}exportAsCsvFile(){this._fileSaverService.exportAsCsvFile(this.statements,"statements")}trackByFn(e,s){return s.id||e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_),t.Y36(I.C),t.Y36(t.sBO),t.Y36(B.m),t.Y36(g.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ath-statements"]],viewQuery:function(e,s){if(1&e&&(t.Gf(y.NW,5),t.Gf(p.YE,5)),2&e){let a;t.iGM(a=t.CRH())&&(s._paginator=a.first),t.iGM(a=t.CRH())&&(s._sort=a.first)}},decls:35,vars:7,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-wrap","p-6","sm:flex-row","flex-0","sm:items-center","sm:justify-between","pb-22","sm:pt-12","sm:pb-28","sm:px-10","bg-mine-50","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"whitespace-nowrap","text-primary-700"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1"],[1,"mt-2"],[1,"text-3xl","font-extrabold","leading-7","tracking-tight","truncate","md:text-4xl","sm:leading-10"],[1,"flex","items-center","flex-shrink-0","mt-6","sm:mt-0","sm:ml-4"],[1,"flex-auto","p-6","-mt-16","bg-mine-200","shadow","sm:p-10","rounded-t-2xl"],[1,"w-full","p-8","md:p-16","shadow","rounded-2xl","bg-card","print:w-auto","print:rounded-none","print:shadow-none","print:bg-transparent"],[1,"flex","items-center","justify-between","mb-5"],[1,"text-2xl","font-semibold","leading-tight"],[1,"-mr-3"],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"icon-size-5",3,"svgIcon"],["listStatementsMenu","matMenu"],["mat-menu-item","",3,"click"],[4,"ngIf"],["noStatements",""],[4,"ngIf","ngIfElse"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","statements-grid","md:px-8","text-md","text-secondary","bg-mine-50","dark:bg-black","dark:bg-opacity-5"],[1,"justify-center","hidden","truncate","sm:flex"],[1,"text-center","truncate",3,"mat-sort-header"],[1,"justify-center","hidden","text-center","sm:flex"],[1,"text-center",3,"mat-sort-header"],[1,"hidden","text-center","sm:block"],[1,"text-center"],[1,"hidden","text-center","lg:block"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","statements-grid","md:px-8","cursor-pointer","hover:bg-primary-50",3,"click"],[1,"truncate"],[1,"text-center","hidden","sm:block"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","statements-grid","md:px-8"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(e,s){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div"),t.TgZ(4,"div",3),t.TgZ(5,"div"),t.TgZ(6,"a",4),t._uU(7,"Estados de Cuentas"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",5),t.TgZ(9,"a",6),t._UZ(10,"mat-icon",7),t.TgZ(11,"span",8),t._uU(12,"Regresar"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",9),t.TgZ(14,"h2",10),t._uU(15," Registro de Estados de Cuentas "),t.qZA(),t.qZA(),t.qZA(),t._UZ(16,"div",11),t.qZA(),t.TgZ(17,"div",12),t.TgZ(18,"div",13),t.TgZ(19,"div",14),t.TgZ(20,"div",15),t._uU(21,"Registro de Estados de Cuentas"),t.qZA(),t.TgZ(22,"div",16),t.TgZ(23,"button",17),t._UZ(24,"mat-icon",18),t.qZA(),t.TgZ(25,"mat-menu",null,19),t.TgZ(27,"button",20),t.NdJ("click",function(){return s.exportAsExcelFile()}),t._uU(28,"Exportar a excel"),t.qZA(),t.TgZ(29,"button",20),t.NdJ("click",function(){return s.exportAsCsvFile()}),t._uU(30,"Exportar a csv"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(31,M,2,2,"ng-container",21),t.ALo(32,"async"),t.YNc(33,N,2,0,"ng-template",null,22,t.W1O),t.qZA(),t.qZA(),t.qZA()),2&e){const a=t.MAs(26);t.xp6(9),t.Q6J("routerLink","./.."),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:chevron-left"),t.xp6(13),t.Q6J("matMenuTriggerFor",a),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:dots-vertical"),t.xp6(7),t.Q6J("ngIf",t.lcZ(32,5,s.statements$))}},directives:[A.PQ,g.yS,w.Hw,Q.lW,Z.p6,Z.VK,Z.OP,r.O5,p.YE,p.nU,r.sg],pipes:[r.Ov,r.uU,r.H9],encapsulation:2,data:{animation:b.p},changeDetection:0}),n})()},{path:":statementId",component:i(54063).N}];let Y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[g.Bz.forChild(O),A.ZD,T.m]]}),n})()}}]);